Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),function(a){a.fireEvent=function(a,b,c,d){a=a||document;var e=new Event(b,{bubbles:d||!0});e.data=c||{name:"unknow"},a.dispatchEvent(e)}}(window),function(a,b){var c={type:1,title:"",content:"这里填写你想要展示的提示内容！~~",btnOK:"OK",icon:"",callback:null};a(document).ready(function(){var d=a(document.body);if(0==d.find("[id*='alert'][class*='modal fade']").length){var e=a('<div class="modal fade" tabindex="-1" role="dialog" id="alert-holder">					  <div class="modal-dialog modal-md modal-dialog-ndp">						<div class="modal-content"></div>					  </div>					</div>'),f=a('<div class="modal-header">						  		<button class="close" data-dismiss="modal">						  			<span aria-hidden="true">&times;</span>						  		</button>						    </div>'),g=a('<div class="modal-body"></div>'),h=a('<div class="modal-footer">								<button class="btn btn-default" data-dismiss="modal"></button>						    </div>');e.find("div.modal-content").append(f).append(g).append(h),d.append(e)}b.showAlert=function(b){var d=a("[id*='alert'][class*='modal fade'] .modal-body"),e=a("[id*='alert'][class*='modal fade']"),g=a("[id*='alert'][class*='modal fade'] .modal-footer");d.empty();var h=a('<div id="icon-holder"></div>'),i=a('<div id="content-holder"><div class="content-title"></div>								<p class="content-itself"></p></div>');d.append(h).append(i);var j=a.extend(!0,{},c,e.data(),b);j.icon?(h.html(j.icon).addClass("showing"),i.addClass("showing")):(h.removeClass("showing"),i.removeClass("showing")),j.title&&d.find(".content-title").html(j.title),j.content&&("function"==typeof j.content?j.content(i.find(".content-itself")):i.find(".content-itself").html(j.content)),j.btnOK&&g.find("button.btn").text(j.btnOK).attr("value",j.btnOK),e.unbind("hide.bs.modal").on("hide.bs.modal",function(a){j.callback&&"function"==typeof j.callback&&j.callback(e)}),2==j.type?(f.remove(),g.remove(),e.unbind("click").click(function(a){a.preventDefault(),a.stopImmediatePropagation()})):e.unbind("click");var k=a.extend(!0,{},e,e.modal({backdrop:!1,keyboard:!1}));return k}})}(jQuery,window),function(a){function b(b,c){var d=this;this.elem=b,this.config=a.extend(!0,{},a.fn.blend.defaults,b.data(),c),d.config=this.config,this.init(),b.data("blend",this)}function c(a){this.seldata=function(){return a.config.seldata},this.updateOption=function(b){return a.config.reajaxOption=b,a.vlist.updateOption(b),a.elem},this.updateTip=function(b){return a.vlist.updateTip(b),a.elem}}var d=this,e={tag:function(b,c){var d=b.label||b.name||b.text||b.value||b,e=b.val||b.value||d,f=a('<span class="tag-wrapper" data-text="'+d+'" data-val="'+e+'" data-serial="'+c+'" >			<button type="button" class="close close2" aria-label="Close"><span class="x2" aria-hidden="true">&times;</span></button>			<span class="tag-txt-wrapper" >'+d+"</span>			</span>");return b.id&&f.attr("data-id",b.id),f},addClassify:function(b,c,d,f,g){d.removeClass("hidden");var c=c||0,h=a("<li class='blend-sel-item' data-serial="+c+" />"),i='<button type="button" class="close close1" aria-label="Close"><span class="x1"aria-hidden="true">&times;</span></button>',j=a('<div class="ndp-bread-wrapper"></div>');b.path&&j.bread({list:b.path,spliter:">"}).attr("data-path",b.path.join("#").replace(/\s/g,"")),h.attr("data-path",b.path.join("#").replace(/\s/g,""));var k=a('<div class="tag-box"  />');if(b.start&&b.end){for(var l=[],m=0;40>=m;m++)l.push({text:1980+m,val:1980+m});var n=a("<div class='ndp-drop3-wrapper year' name='year-start' />").drop3({data:l,allowInput:!1,bind:d.parent(),caret:"glyphicon-menu-right"}).val(b.start).on("ITEM_CLICK",function(a){b.start=a.originalEvent.data.val}),o=a("<div class='ndp-drop3-wrapper year' name='year-end' />").drop3({data:l,allowInput:!1,bind:d.parent(),caret:"glyphicon-menu-right"}).val(b.end).on("ITEM_CLICK",function(a){b.end=a.originalEvent.data.val});k.append(n).append("<hr />").append(o),e.select(f,g,b.type)}else b.tags&&b.tags.length&&b.tags.forEach(function(a,b){k.append(e.tag(a,c)),e.select(f,g,a.type,a.id)});h.append(j).append(k).append(i),d.append(h)},select:function(a,b,c,d){a.find('a[data-type="'+c+'"]'+(d?'[data-id="'+d+'"]':"")).addClass("selected"),b.find('li[data-type="'+c+'"]'+(d?'[data-id="'+d+'"]':"")).addClass("selected")}};b.prototype.init=function(){var c=this;if(this.config.containerClass){var f=a("<div></div>");this.elem.parent().append(f),f.addClass(this.config.containerClass),f.append(this.elem),d.pClass=this.config.containerClass}else d.pClass="ndp-blend-wrapper";this.concrate(),this.initConfig(),c.input.click(function(b){b.stopImmediatePropagation(),a(this).val()&&c.drop1.children.length&&c.drop1.removeClass("hidden")}),c.input.keydown(function(a){(a.metaKey||a.ctrlKey)&&86==a.keyCode&&(a.stopImmediatePropagation(),c.paste=!0)}),c.input.on("input",function(b){b.stopImmediatePropagation();var d=a(this).val();if(c.paste&&(c.paste=!1,c.config.pastecallback))return c.config.pastecallback(d,c.dropup,c.config.seldata,e),!1;var f=a.extend({},c.config.ajaxOptions);f.data?"function"==typeof f.data&&(f.data=f.data(d)):f.data={key:d},null!=c.xhr&&(c.xhr.abort(),c.xhr=null),c.xhr=a.ajax(f),c.xhr.then(function(b){c.config.ajaxOptions.processResults&&(b=c.config.ajaxOptions.processResults(b)),"string"==typeof b&&(b=JSON.parse(b)),c.drop1.empty(),c.drop2.addClass("hidden"),c.insdata=b.data,c.insdata&&c.insdata.length?b.data.forEach(function(b,e){var f="string"==typeof b?b:b.text||b.label||b.name||b.value,g=b.value||b.val||f,h=new RegExp("["+d+"]+","i"),i=new RegExp(d,"i");if(String(g).match(i))var j=String(f).match(i)[0];else j=String(f).match(h)?String(f).match(h)[0]:"";var k=j.length,l=new RegExp(j,"i"),m=f.search(l),n=f.split("");n.splice(m,0,"<em>"),n.splice(m+k+1,0,"</em>");var o=n.join(""),p=b.audienceSize||b.audience_size,q=a('<li val="'+g+'"  tabIndex='+e+' >					<a class="txt-mark" href="#" data-type="'+b.type+'" data-id="'+b.id+'" data-val="'+g+'" index="'+e+'" data-name="'+f+'" data-path="'+b.path.join("#").replace(/\s/g,"")+'" data-size="'+p+'" >'+(o||f)+'<span class="aud-class">'+p+"</span></a></li>");b.path=b.path.join("#").replace(/\s/g,""),q.find(".txt-mark").data("info",b),c.drop1.append(q)}):c.drop1.append('<li class="no-result">'+c.config.formatNoMatches+"</li>"),c.drop1.removeClass("hidden")},function(a){console.log(a)})}),c.drop1.click(function(b){b.preventDefault(),b.stopImmediatePropagation();var d=a(b.target);if("A"==b.target.tagName&&d.hasClass("txt-mark")){if(d.hasClass("selected"))return!1;c.selectDAT([d.data("info")]);d.attr("index");d.addClass("selected"),fireEvent(c.elem.get(0),"ITEM_CLICK",d.data("info"))}}),c.icon.click(function(a){a.stopImmediatePropagation(),c.input.val(""),c.drop1.addClass("hidden").empty(),c.drop2.removeClass("hidden")}),c.dropup.click(function(b){if(b.stopImmediatePropagation(),"BUTTON"==b.target.tagName&&a(b.target).hasClass("close2")||"SPAN"==b.target.tagName&&a(b.target).hasClass("x2")){var d=a(b.target).parents("span.tag-wrapper:first"),e=d.parent(),f=d.parents("li.blend-sel-item:first"),g=f.index(),h=d.index();d.remove();var i=c.config.seldata[g],j=i.tags,k=j.splice(h,1);k&&k[0]&&c.unSelect(i.type,k[0].id),e.children().length||(f.remove(),c.config.seldata.splice(g,1)),a(c.elem.get(0)).data("seldata",c.config.seldata),fireEvent(c.elem.get(0),"TAG_RESIGN",k)}else if("BUTTON"==b.target.tagName&&a(b.target).hasClass("close1")||"SPAN"==b.target.tagName&&a(b.target).hasClass("x1")){var l=a(b.target).parents(".blend-sel-item:first"),g=l.index();l.find(".ndp-drop3-wrapper").trigger("BEEN_REMOVED"),l.remove();var m=c.config.seldata.splice(g,1);if(m&&m[0])if(m[0].tags&&m[0].tags.length>0){var i=m[0],n=i.tags;a.each(n,function(a,b){c.unSelect(i.type,b.id)})}else c.unSelect(m[0].type);a(c.elem.get(0)).data("seldata",c.config.seldata),fireEvent(c.elem.get(0),"SERIAL_RESIGN",m)}c.dropup.find("li").length||c.dropup.addClass("hidden")}),b.prototype.unSelect=function(a,b){var c=this;c.drop1.find('a[data-type="'+a+'"]'+(b?'[data-id="'+b+'"]':"")).removeClass("selected"),c.drop2.find('li[data-type="'+a+'"]'+(b?'[data-id="'+b+'"]':"")).removeClass("selected")},b.prototype.select=function(a,b){var c=this;c.drop1.find('a[data-type="'+a+'"]'+(b?'[data-id="'+b+'"]':"")).addClass("selected"),c.drop2.find('li[data-type="'+a+'"]'+(b?'[data-id="'+b+'"]':"")).addClass("selected")},this.vlist.on("RETURN_BACK",function(){c.vlist.hspanel()}),this.vlist.on("ITEM_SELECT",function(a){var b=a.originalEvent.data;c.selectDAT([b]),fireEvent(c.elem.get(0),"ITEM_CLICK",b)}),this.vlist.on("ITEM_CLICK",function(a){a.preventDefault();var b=a.originalEvent.data;b.search||c.selectDAT([b])});var g="mouseup."+d.pClass;a(document.body).off(g).on(g,function(b){function e(a){var b;return b="ndp-blend-wrapper"==d.pClass?a.data("blend"):a.find(".ndp-blend-wrapper").data("blend")}var f=a(b.target),g=f.closest("."+d.pClass);if(f.parents(".drop3-list-wrapper").length)return void a(g[0]).addClass("ndp-blend-wrapper-open");a(g[0]).addClass("ndp-blend-wrapper-open");var h=a("."+d.pClass+".ndp-blend-wrapper-open");h.each(function(){var b=a(this);if(this!=g[0]){b.removeClass("ndp-blend-wrapper-open");var d=e(b);c.close(d)}else if(!f.parents(".drop3-list-wrapper").length){var d=e(b);a.each(d.dropup.find(".ndp-drop3-wrapper"),function(b,c){a(c).drop3("close")})}})}),c.listenScroll()},b.prototype.close=function(b){var c=this;b||(b=c),console.log(b),b.input.val(""),b.drop1.addClass("hidden").empty(),b.drop2.addClass("hidden"),b.vlist.fold(),b.vlist.hspanel(),a.each(b.dropup.find(".ndp-drop3-wrapper"),function(b,c){console.log("关闭drop3"),a(c).drop3("close")}),fireEvent(b.elem.get(0),"close")},b.prototype.selectDAT=function(b){var c=this;c.dropup.removeClass("hidden"),a.each(b,function(b,d){var f=c.dropup.find("li[data-path='"+d.path+"']");if(f.length){var g=f.find(".tag-box");if(0==g.find('span[data-id="'+d.id+'"]').length){var h=parseInt(f.data("serial"));g.append(e.tag(d,h));for(var i=c.config.seldata,b=0;b<i.length;b++){var j=i[b];if(j.path.join("#").replace(/\s/g,"")==d.path){j.tags.push({name:d.name,id:d.id,audience_size:d.size,type:d.type}),a(c.elem.get(0)).data("seldata",c.config.seldata);break}}}}else{var k={};k=a.extend(k,d),k.path=d.path.split("#"),k.tags=[{name:d.name,id:d.id,audience_size:d.size,type:d.type}],e.addClassify(k,0,c.dropup,c.drop1,c.drop2),c.config.seldata||(c.config.seldata=[]),c.config.seldata.push(k),a(c.elem.get(0)).data("seldata",c.config.seldata)}})},b.prototype.resizeDropup=function(){},b.prototype.listenScroll=function(){var b=this;b.elem.find(".blend-dropup").scroll(function(c){a.each(b.elem.find(".ndp-drop3-wrapper"),function(b,d){a(d).trigger("WRAPPER_SCROLL",c.target)}),fireEvent(b.elem.get(0),"BLEND_DROPUP_SCROLL")})},b.prototype.concrate=function(b){var c=this;this.input=a("<input class='form-input blend-input' />"),this.downwrapper=a("<div class='down-wrapper' />"),this.icon=a("<span class='icon-wrapper'></span>"),c.config.icon?this.icon.append(c.config.icon):this.icon.append("<i class='glyphicon glyphicon-thumbs-up'></i>"),this.drop1=a('<ul class="dropdown-menu blend-search-drop hidden"  />'),this.drop2=a('<div class="ndp-vList3-wrapper blend-classify-drop hidden" name="blend-rec" />'),this.dropup=a('<ul class="dropdown-menu blend-dropup hidden" >'),this.vlist=this.drop2.vList3({data:c.config.recdata,ajaxOption:c.config.reajaxOptions,returnList:c.config.returnList,formatNoMatches:c.config.formatNoMatches}),this.vlist.updateTip(c.config.tip),this.elem.css("visibility","hidden"),this.elem.css("position","absolute"),this.downwrapper.append(this.input).append(this.icon).append(this.drop1).append(this.drop2),this.elem.append(this.dropup).append(this.downwrapper);var d=this.icon.width(),e=this.elem.width()-d-50;this.input.css("width",e),this.drop1.css("width",e),this.drop2.css("width",e),this.dropup.css("width",e),this.elem.css("position","relative"),this.elem.css("visibility","visible")},b.prototype.initConfig=function(){var b=this,c=this.config;c.seldata&&c.seldata.length&&(c.seldata.forEach(function(a,c){e.addClassify(a,c,b.dropup,b.drop1,b.drop2)}),a(b.elem.get(0)).data("seldata",b.config.seldata))},a.fn.blend=function(d){var e=this.first();if("object"==typeof d){var f=new b(e,d);return e=a.extend(!0,{},e,new c(f))}if("string"==typeof d){var g,h=e.data("blend"),i=Array.prototype.slice.call(arguments,1);return g="close"==d?h[d]():"selectDAT"==d?h[d](i[0]):h[d](i)}};var f=a.fn.blend;a.fn.blend.Constructor=b,a.fn.blend.noConflict=function(){return a.fn.blend=f,this},a.fn.blend.defaults={tip:"搜索国家地理信息，请输入关键字",ajaxOptions:{type:"GET",url:"../data/blend.json",xhrFields:{withCredentials:!0}},formatNoMatches:"查无结果",pastecallback:null,reajaxOptions:null,recdata:null,seldata:[],containerClass:null}}(jQuery),function(a,b,c,d){"use strict";var e=function(b,c){function d(b){if(b.checked){var c=a('<div class="user-layer" id='+b["class"]+">");c.append('<ul class="user-title"><li>'+b.text+"</li></ul>"),c.append('<ul class="user-body"><li index="0"><select multiple="multiple" class="ext-cond"></li></ul>'),c.insertBefore(a("#other"))}}function e(){if("input"==g){var c=f.config.init,e=a(b),h=f.config.prop,i=f.config.list||e.data("list")&&e.data("list").match(/[^\[\]'",]+/gi)||[],j=f.config.holder||e.data("hold"),k=f.config.value>=0?f.config.value:e.data("val");if(e.children().length){var l=e.find("ul.dropdown-menu");i.join("")!=l.text()&&l.empty(),e.find("input").attr("placeholder",j),k>=0&&e.find("input").val(h?i[k][h]:i[k])}else{var m=a('<input class="form-control" type="text" readonly="true" data-toggle="dropdown">');if(j&&m.attr("placeholder",j),f.config.max)var n=f.config.min;else k>=0&&(n=h&&i[k]?i[k][h]:i[k]);n&&m.val(n);var o=a('<span class="caret" data-toggle="dropdown"></span>'),l=a('<ul class="dropdown-menu">'),p=f.config.max?f.config.max+1:i.length,q=f.config.min||0;c&&"function"==typeof c&&c(r,i[k]);for(var r=q;p>r;r++){var s=f.config.max?r:i[r],t=a("<li><a>"+(h?s[h]:s)+"</a></li>");l.append(t),function(b,c,d,e){c.unbind("click").click(function(){var c=a(this).text().trim();c!=b.find(g).val()&&(b.find(g).val(c).attr("theValue",c),b.trigger("selectChanged",{index:e,data:d}))})}(e,t,s,r)}e.append(m).append(o).append(l)}}else if("folder"==g){var e=a(b);if(f.config.list&&f.config.list.length>0)var u=f.config.list;else u=e.data("list")&&e.data("list").match(/[^\[\]'",]+/gi)||[];var j=f.config.holder||e.data("hold"),k=parseInt(e.data("val"))||f.config.value;if(e.children().length){var l=e.find("ul.dropdown-menu");if(u.join("")!=l.text()){l.empty();for(var v=0;v<u.length;v++)l.append("<li><a>"+u[v][f.config.prop]+"</a></li>")}return}var m=a('<input class="form-control" type="text" readonly="true" data-toggle="dropdown">');j&&m.attr("placeholder",j),-1!=k&&m.attr("value",u[k][f.config.prop]);var o=a('<span class="caret" data-toggle="dropdown"></span>'),l=a('<ul class="dropdown-menu">'),h=f.config.prop;for(r=0;r<u.length;r++){var w=u[r],t=a("<li>"+w[h]+"</li>");if(w.sub){!function(b){b.click(function(b){b.stopPropagation(),a(this).find("ul.collapse").hasClass("in")?a(this).find("ul.collapse").removeClass("in"):a(this).find("ul.collapse").addClass("in")})}(t),t.attr({"data-toggle":"collapse","aria-expanded":!1}),t.attr("data-target","#"+w["class"]).attr("aria-controls",w["class"]),t.prepend('<i class="glyphicon glyphicon-triangle-right">');for(var x=a("<ul class='sub-list collapse fade' id="+w["class"]+">"),v=0;v<w.sub.length;v++){d(w.sub[v]);var y=a("<li>"+w.sub[v][h]+"<i class='glyphicon glyphicon-ok' style='opacity:"+(w.sub[v].checked?1:0)+"'></i></li>");x.append(y),function(b,c){b.unbind("click").click(function(b){b.stopPropagation();var d=a(this).children("i.glyphicon-ok"),e=d.css("opacity");"0"==e?d.css("opacity","1"):d.css("opacity","0"),a(this).trigger("toggleItem",{show:parseInt(e)-1,data:c})})}(y,w.sub[v])}t.append(x)}else d(w),t.append('<i class="glyphicon glyphicon-ok" style="opacity:'+(w.checked?1:0)+'"></i>'),function(b,c){b.unbind("click").click(function(b){b.stopPropagation();var d=a(this).children("i.glyphicon-ok"),e=d.css("opacity");"0"==e?d.css("opacity","1"):d.css("opacity","0"),a(this).trigger("toggleItem",{show:parseInt(e)-1,data:c})})}(t,w);l.append(t)}e.append(m).append(o).append(l)}}var f=this;f.$element=a(b),f.config=a.extend(!0,{},a.fn.bootDrop.defaults,b.data(),c);var g=f.config.type;f.config.list;this.startup=function(){e(),this.$element.find("input[type],span.caret").click(function(b){b.stopImmediatePropagation(),console.log(1111),a(this).parent().toggleClass("open")})}};a.fn.bootDrop=function(a){var b=this.first(),c=new e(b,a);return c.startup(),b},a.fn.bootDrop.defaults={list:null,type:"input",caret:'<span class="caret"></span>',capacity:"",placeholder:"",buttonClass:"",value:-1,porp:null,holder:null,max:null,min:null,init:null}}(jQuery,window,document),function(a){function b(a){var b=a.elem.width();if(a.config.wis>=b-40){var c=(b-40)/a.config.list.length;a.breadwrapper.find("li").css({maxWidth:c+"px"}).addClass("cus")}else a.breadwrapper.find("li").removeAttr("style").removeClass("cus")}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.bread.defaults,b.data(),c),this.config.w=this.elem.width(),this.init()}function d(a){this.manipulate=function(a){}}c.prototype.init=function(){var c=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),c.breadwrapper.find("li:has(a)").click(function(b){b.stopImmediatePropagation();var d=parseInt(a(this).attr("deep")),e=a(this).text();c.config.home&&0==d?a(this).addClass("active").empty().text(c.config.list[d]).prepend(c.config.home):a(this).addClass("active").empty().text(c.config.list[d]),c.breadwrapper.find("li:gt("+d+")").remove(),fireEvent(c.elem.get(0),"LAYER_CHANGE",{index:d,text:e})}),a(window).resize(function(){b(c)})},c.prototype.concrate=function(c){var d=this,e=0;this.breadwrapper=a("<ol class='breadcrumb'/>");var f=document.createElement("span");f.style.opacity="0",f.style.visibility="hidden",f.style.position="absolute",document.body.appendChild(f),d.config.list.forEach(function(a,b){if("string"==typeof a||"number"==typeof a)var c=a;else c=a.name||a.text||a.label;f.innerHTML=c;var g=f.getBoundingClientRect().width;e+=g,b!=d.config.list.length-1?d.breadwrapper.append("<li deep="+b+" w="+g+" title="+c+" ><a href='#'><span>"+c+"</span></a></li>"):d.breadwrapper.append("<li class='active' deep="+b+" w="+g+" title="+c+" ><span>"+c+"</span></li>"),b==d.config.list.length-1&&(document.body.removeChild(f),d.config.wis=e)}),b(d),d.elem.append(d.breadwrapper)},c.prototype.initConfig=function(){var a=this;a.breadwrapper.find("li:gt(0)").addClass("change").attr("data-content",a.config.spliter),a.config.home&&a.breadwrapper.find("li:first>a").prepend(a.config.home).addClass("bread-home-decorate")},a.fn.bread=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.bread;a.fn.bread.Constructor=c,a.fn.bread.noConflict=function(){return a.fn.bread=e,this},a.fn.bread.defaults={home:"",spliter:"/",list:[]}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.bubble.defaults,b.data(),c),this.init()}function c(a){this.manipulate=function(a){}}b.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.elem.popover(b.config),this.elem.click(function(c){var d=b.elem.attr("aria-describedby");setTimeout(function(){if(d||b.elem.popover("show"),d){var c=a("#"+d);c.find("button.close").click(function(a){a.stopImmediatePropagation(),b.elem.popover("hide")}),c.find("button[name=cancel]").click(function(a){a.stopImmediatePropagation(),fireEvent(c.get(0),"bubble_cancel"),b.elem.popover("hide")}),c.find("button[name=ok]").click(function(a){a.stopImmediatePropagation(),fireEvent(c.get(0),"bubble_ok"),b.elem.popover("hide")})}},150)})},b.prototype.concrate=function(a){},b.prototype.initConfig=function(){var b=this,c=this.config;if(c.icon){var d=/\.(jpg|jpeg|gif|png|bmp)(\?)?.?/i;d.test(c.icon)?b.img=a("<img width='100%' height='100%' />").attr("src",c.icon):b.img=a(c.icon),this.elem.append(b.img)}var e=a("<div />").append(c.template);e.find("button.close").toggleClass("close2",c.title?!0:!1),e.find("button.close").toggleClass("hidden",c.close),e.children().attr("type",c.type),c.template=e.html()},a.fn.bubble=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var d=a.fn.bubble;a.fn.bubble.Constructor=b,a.fn.bubble.noConflict=function(){return a.fn.bubble=d,this},a.fn.bubble.defaults={type:1,icon:"<i class='glyphicon glyphicon-user'></i>",placement:"bottom",content:"",close:!1,template:'<div class="popover" role="tooltip">						<div class="arrow"></div>						 <button type="button" class="close" aria-label="Close">							<span aria-hidden="true">&times;</span>						 </button>						<div class="popover-title"></div>						<div class="popover-content"></div>						<div class="popover-footer">							<button class="btn btn-default" name="cancel" >取消</button>							<button class="btn btn-default" name="ok" >确定</button>						</div>					</div>'}}(jQuery),function(a,b){function c(){0==a(document.body).find("[id*='confirm'][class*='modal fade']").length&&(e=a('<div class="modal fade" tabindex="-1" role="dialog" id="confirm-holder">					  <div class="modal-dialog modal-md modal-dialog-ndp">						<div class="modal-content"></div>					  </div>					</div>'),f=a('<div class="modal-header">								<button class="close" data-dismiss="modal">									<span aria-hidden="true">&times;</span>								</button>								<span class="top-title"></span>							</div>'),g=a('<div class="modal-body"></div>'),h=a('<div class="modal-footer">								<button class="btn btn-default btn-ok" data-dismiss="modal"></button>								<button class="btn btn-default btn-cancel" data-dismiss="modal"></button>							</div>'),e.find("div.modal-content").append(f).append(g).append(h),a(document.body).append(e))}function d(b,c){var d=this;this.elem=b,this.config=a.extend(!0,{},a.fn.confirm.defaults,b.data(),c),this.init(),this.status="",this.elem.modal().unbind("hide.bs.modal").on("hide.bs.modal",function(a){a.stopImmediatePropagation(),"ok"==d.status?d.config.onOK():d.config.onCancel()})}var e,f,g,h;a(document).ready(function(){c()}),d.prototype.init=function(){var a=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.elem.find("button.btn-ok").unbind("click").click(function(b){a.status="ok"}),this.elem.find("button.btn-cancel,button.close").unbind("click").click(function(b){a.status="cancel"})},d.prototype.concrate=function(a){},d.prototype.initConfig=function(){var b=this,c=b.config;if(c.title?f.find(".top-title").html(c.title):f.find(".top-title").html(""),c.content){g.empty();var d=a('<div id="icon-holder"></div>'),e=a('<div id="content-holder"><div class="content-title"></div>								<p class="content-itself">'+c.content+"</p></div>");g.append(d).append(e)}else g.empty();c.icon?(d.html(c.icon).addClass("showing"),e.addClass("showing")):(d.removeClass("showing"),e.removeClass("showing")),c.btnOK&&h.find("button.btn-ok").text(c.btnOK),c.btnCANCEL&&h.find("button.btn-cancel").text(c.btnCANCEL)},a.fn.confirm=function(a){var b=this.first();new d(b,a);return b},a.fn.confirm.defaults={title:"确认信息",content:"你确定留空白什么也不写吗？ 请选择",icon:"",btnOK:"确定",btnCANCEL:"取消",onOK:function(){},onCancel:function(){}},b.showConfirm=function(b){return a("#confirm-holder").confirm(b)}}(jQuery,window),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(c,d,e){a.daterangepicker=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("moment"),d="undefined"!=typeof window?window.jQuery:void 0;if(!d)try{d=require("jquery"),d.fn||(d.fn={})}catch(e){if(!d)throw new Error("jQuery dependency not found")}b(a,exports,c,d)}else a.daterangepicker=b(a,{},a.moment||moment,a.jQuery||a.Zepto||a.ender||a.$)}(this||{},function(a,b,c,d){var e=function(a,b,e){if(this.parentEl="body",this.element=d(a),this.startDate=c().startOf("day"),this.endDate=c().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:c.weekdaysMin(),monthNames:c.monthsShort(),firstDay:c.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof b||null===b)&&(b={}),b=d.extend(this.element.data(),b),"string"==typeof b.template||b.template instanceof jQuery||(b.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=d(b.parentEl&&d(b.parentEl).length?b.parentEl:this.parentEl),this.container=d(b.template).appendTo(this.parentEl),"object"==typeof b.locale&&("string"==typeof b.locale.format&&(this.locale.format=b.locale.format),"string"==typeof b.locale.separator&&(this.locale.separator=b.locale.separator),"object"==typeof b.locale.daysOfWeek&&(this.locale.daysOfWeek=b.locale.daysOfWeek.slice()),"object"==typeof b.locale.monthNames&&(this.locale.monthNames=b.locale.monthNames.slice()),"number"==typeof b.locale.firstDay&&(this.locale.firstDay=b.locale.firstDay),"string"==typeof b.locale.applyLabel&&(this.locale.applyLabel=b.locale.applyLabel),"string"==typeof b.locale.cancelLabel&&(this.locale.cancelLabel=b.locale.cancelLabel),"string"==typeof b.locale.weekLabel&&(this.locale.weekLabel=b.locale.weekLabel),"string"==typeof b.locale.customRangeLabel&&(this.locale.customRangeLabel=b.locale.customRangeLabel)),"string"==typeof b.startDate&&(this.startDate=c(b.startDate,this.locale.format)),"string"==typeof b.endDate&&(this.endDate=c(b.endDate,this.locale.format)),"string"==typeof b.minDate&&(this.minDate=c(b.minDate,this.locale.format)),"string"==typeof b.maxDate&&(this.maxDate=c(b.maxDate,this.locale.format)),"object"==typeof b.startDate&&(this.startDate=c(b.startDate)),"object"==typeof b.endDate&&(this.endDate=c(b.endDate)),"object"==typeof b.minDate&&(this.minDate=c(b.minDate)),"object"==typeof b.maxDate&&(this.maxDate=c(b.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof b.applyClass&&(this.applyClass=b.applyClass),"string"==typeof b.cancelClass&&(this.cancelClass=b.cancelClass),"object"==typeof b.dateLimit&&(this.dateLimit=b.dateLimit),"string"==typeof b.opens&&(this.opens=b.opens),"string"==typeof b.drops&&(this.drops=b.drops),"boolean"==typeof b.showWeekNumbers&&(this.showWeekNumbers=b.showWeekNumbers),"boolean"==typeof b.showISOWeekNumbers&&(this.showISOWeekNumbers=b.showISOWeekNumbers),"string"==typeof b.buttonClasses&&(this.buttonClasses=b.buttonClasses),"object"==typeof b.buttonClasses&&(this.buttonClasses=b.buttonClasses.join(" ")),"boolean"==typeof b.showDropdowns&&(this.showDropdowns=b.showDropdowns),"boolean"==typeof b.singleDatePicker&&(this.singleDatePicker=b.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof b.timePicker&&(this.timePicker=b.timePicker),"boolean"==typeof b.timePickerSeconds&&(this.timePickerSeconds=b.timePickerSeconds),"number"==typeof b.timePickerIncrement&&(this.timePickerIncrement=b.timePickerIncrement),"boolean"==typeof b.timePicker24Hour&&(this.timePicker24Hour=b.timePicker24Hour),"boolean"==typeof b.autoApply&&(this.autoApply=b.autoApply),"boolean"==typeof b.autoUpdateInput&&(this.autoUpdateInput=b.autoUpdateInput),"boolean"==typeof b.linkedCalendars&&(this.linkedCalendars=b.linkedCalendars),"function"==typeof b.isInvalidDate&&(this.isInvalidDate=b.isInvalidDate),"boolean"==typeof b.alwaysShowCalendars&&(this.alwaysShowCalendars=b.alwaysShowCalendars),0!=this.locale.firstDay)for(var f=this.locale.firstDay;f>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),f--;var g,h,i;if("undefined"==typeof b.startDate&&"undefined"==typeof b.endDate&&d(this.element).is("input[type=text]")){var j=d(this.element).val(),k=j.split(this.locale.separator);g=h=null,2==k.length?(g=c(k[0],this.locale.format),h=c(k[1],this.locale.format)):this.singleDatePicker&&""!==j&&(g=c(j,this.locale.format),h=c(j,this.locale.format)),null!==g&&null!==h&&(this.setStartDate(g),this.setEndDate(h))}if("object"==typeof b.ranges){for(i in b.ranges){g="string"==typeof b.ranges[i][0]?c(b.ranges[i][0],this.locale.format):c(b.ranges[i][0]),h="string"==typeof b.ranges[i][1]?c(b.ranges[i][1],this.locale.format):c(b.ranges[i][1]),this.minDate&&g.isBefore(this.minDate)&&(g=this.minDate.clone());var l=this.maxDate;if(this.dateLimit&&g.clone().add(this.dateLimit).isAfter(l)&&(l=g.clone().add(this.dateLimit)),l&&h.isAfter(l)&&(h=l.clone()),!(this.minDate&&h.isBefore(this.minDate)||l&&g.isAfter(l))){var m=document.createElement("textarea");m.innerHTML=i;var n=m.value;this.ranges[n]=[g,h]}}var o="<ul>";for(i in this.ranges)o+="<li>"+i+"</li>";o+="<li>"+this.locale.customRangeLabel+"</li>",o+="</ul>",this.container.find(".ranges").prepend(o)}if("function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof b.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),("undefined"==typeof b.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof b.ranges&&"right"==this.opens){var p=this.container.find(".ranges"),q=p.clone();p.remove(),this.container.find(".calendar.left").parent().prepend(q)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),
this.container.find(".calendar").on("click.daterangepicker",".prev",d.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",d.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",d.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",d.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",d.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",d.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",d.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",d.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",d.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",d.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",d.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",d.proxy(this.clickCancel,this)).on("click.daterangepicker","li",d.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",d.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",d.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":d.proxy(this.show,this),"focus.daterangepicker":d.proxy(this.show,this),"keyup.daterangepicker":d.proxy(this.elementChanged,this),"keydown.daterangepicker":d.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",d.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return e.prototype={constructor:e,setStartDate:function(a){"string"==typeof a&&(this.startDate=c(a,this.locale.format)),"object"==typeof a&&(this.startDate=c(a)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(a){"string"==typeof a&&(this.endDate=c(a,this.locale.format)),"object"==typeof a&&(this.endDate=c(a)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(a){var b="left"==a?this.leftCalendar:this.rightCalendar,e=b.month.month(),f=b.month.year(),g=b.month.hour(),h=b.month.minute(),i=b.month.second(),j=c([f,e]).daysInMonth(),k=c([f,e,1]),l=c([f,e,j]),m=c(k).subtract(1,"month").month(),n=c(k).subtract(1,"month").year(),o=c([n,m]).daysInMonth(),p=k.day(),b=[];b.firstDay=k,b.lastDay=l;for(var q=0;6>q;q++)b[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=c([n,m,r,12,h,i]),q=0,s=0,t=0;42>q;q++,s++,u=c(u).add(24,"hour"))q>0&&s%7===0&&(s=0,t++),b[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&b[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&b[t][s].isBefore(this.minDate)&&"left"==a&&(b[t][s]=this.minDate.clone()),this.maxDate&&b[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&b[t][s].isAfter(this.maxDate)&&"right"==a&&(b[t][s]=this.maxDate.clone());"left"==a?this.leftCalendar.calendar=b:this.rightCalendar.calendar=b;var v="left"==a?this.minDate:this.startDate,w=this.maxDate,x=("left"==a?this.startDate:this.endDate,'<table class="table-condensed">');x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),x+=v&&!v.isBefore(b.firstDay)||this.linkedCalendars&&"left"!=a?"<th></th>":'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';var y=this.locale.monthNames[b[1][1].month()]+b[1][1].format(" YYYY");if(this.showDropdowns){for(var z=b[1][1].month(),A=b[1][1].year(),B=w&&w.year()||A+5,C=v&&v.year()||A-50,D=A==C,E=A==B,F='<select class="monthselect">',G=0;12>G;G++)F+=(!D||G>=v.month())&&(!E||G<=w.month())?"<option value='"+G+"'"+(G===z?" selected='selected'":"")+">"+this.locale.monthNames[G]+"</option>":"<option value='"+G+"'"+(G===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[G]+"</option>";F+="</select>";for(var H='<select class="yearselect">',I=C;B>=I;I++)H+='<option value="'+I+'"'+(I===A?' selected="selected"':"")+">"+I+"</option>";H+="</select>",y=F+H}if(x+='<th colspan="5" class="month">'+y+"</th>",x+=w&&!w.isAfter(b.lastDay)||this.linkedCalendars&&"right"!=a&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),d.each(this.locale.daysOfWeek,function(a,b){x+="<th>"+b+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.dateLimit){var J=this.startDate.clone().add(this.dateLimit).endOf("day");(!w||J.isBefore(w))&&(w=J)}for(var t=0;6>t;t++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+b[t][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+b[t][0].isoWeek()+"</td>");for(var s=0;7>s;s++){var K=[];b[t][s].isSame(new Date,"day")&&K.push("today"),b[t][s].isoWeekday()>5&&K.push("weekend"),b[t][s].month()!=b[1][1].month()&&K.push("off"),this.minDate&&b[t][s].isBefore(this.minDate,"day")&&K.push("off","disabled"),w&&b[t][s].isAfter(w,"day")&&K.push("off","disabled"),this.isInvalidDate(b[t][s])&&K.push("off","disabled"),b[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&b[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&b[t][s]>this.startDate&&b[t][s]<this.endDate&&K.push("in-range");for(var L="",M=!1,q=0;q<K.length;q++)L+=K[q]+" ","disabled"==K[q]&&(M=!0);M||(L+="available"),x+='<td class="'+L.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+b[t][s].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".calendar."+a+" .calendar-table").html(x)},renderTimePicker:function(a){var b,c,d,e=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(e=this.startDate.clone().add(this.dateLimit)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate?this.endDate.clone():this.previousRightTime.clone(),d=this.startDate;var f=this.container.find(".calendar.right .calendar-time div");if(""!=f.html()){if(c.hour(f.find(".hourselect option:selected").val()||c.hour()),c.minute(f.find(".minuteselect option:selected").val()||c.minute()),c.second(f.find(".secondselect option:selected").val()||c.second()),!this.timePicker24Hour){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),c.isAfter(e)&&(c=e.clone())}}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;i>=j;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),b+=k!=c.hour()||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":'<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;60>j;j+=this.timePickerIncrement){var n=10>j?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),b+=c.minute()!=j||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":'<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;60>j;j++){var n=10>j?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),b+=c.second()!=j||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":'<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),b+=c.hour()>=12?'<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".calendar."+a+" .calendar-time div").html(b)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var a,b={top:0,left:0},c=d(window).width();this.parentEl.is("body")||(b={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},c=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-b.top:this.element.offset().top+this.element.outerHeight()-b.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:a,right:c-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:a,left:this.element.offset().left-b.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:a,left:this.element.offset().left-b.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>d(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=d.proxy(function(a){this.outsideClick(a)},this),d(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),d(window).on("resize.daterangepicker",d.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),d(document).off(".daterangepicker"),d(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var b=d(a.target);"focusin"==a.type||b.closest(this.element).length||b.closest(this.container).length||b.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(a){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var b=a.target.innerHTML;if(b==this.locale.customRangeLabel)this.updateView();else{var c=this.ranges[b];this.container.find("input[name=daterangepicker_start]").val(c[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(c[1].format(this.locale.format))}}},clickRange:function(a){var b=a.target.innerHTML;if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){var b=d(a.target).parents(".calendar");b.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){var b=d(a.target).parents(".calendar");b.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&d(a.target).hasClass("available")){var b=d(a.target).attr("data-title"),c=b.substr(1,1),e=b.substr(3,1),f=d(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[c][e]:this.rightCalendar.calendar[c][e];this.endDate?this.container.find("input[name=daterangepicker_start]").val(g.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(g.format(this.locale.format));var h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".calendar td").each(function(a,b){if(!d(b).hasClass("week")){var c=d(b).attr("data-title"),e=c.substr(1,1),f=c.substr(3,1),k=d(b).parents(".calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)?d(b).addClass("in-range"):d(b).removeClass("in-range")}})}},clickDate:function(a){if(d(a.target).hasClass("available")){var b=d(a.target).attr("data-title"),c=b.substr(1,1),e=b.substr(3,1),f=d(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[c][e]:this.rightCalendar.calendar[c][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&12>h&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&12>h&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[c][0])&&this.endDate.isSame(this.ranges[c][1])){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}b++}a&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var b=d(a.target).closest(".calendar").hasClass("left"),c=b?"left":"right",e=this.container.find(".calendar."+c),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();b||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),b?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var b=d(a.target).closest(".calendar"),c=b.hasClass("left"),e=parseInt(b.find(".hourselect").val(),10),f=parseInt(b.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(b.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=b.find(".ampmselect").val();"PM"===h&&12>e&&(e+=12),"AM"===h&&12===e&&(e=0)}if(c){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(a){var b=d(a.target).closest(".calendar").hasClass("right"),e=c(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),f=c(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);e.isValid()&&f.isValid()&&(b&&f.isBefore(e)&&(e=f.clone()),this.setStartDate(e),this.setEndDate(f),b?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var a=this.element.val().split(this.locale.separator),b=null,d=null;2===a.length&&(b=c(a[0],this.locale.format),d=c(a[1],this.locale.format)),(this.singleDatePicker||null===b||null===d)&&(b=c(this.element.val(),this.locale.format),d=b),b.isValid()&&d.isValid()&&(this.setStartDate(b),this.setEndDate(d),this.updateView())}},keydown:function(a){(9===a.keyCode||13===a.keyCode)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},d.fn.daterangepicker=function(a,b){return this.each(function(){var c=d(this);c.data("daterangepicker")&&c.data("daterangepicker").remove(),c.data("daterangepicker",new e(c,a,b))}),this},e}),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.drop.defaults,b.data(),c);var d=(new Date).valueOf();this.config.width=this.elem.width(),this.config.id=d,this.elem.attr("id",d),this.init(),b.data("drop",this)}function c(a){var b=a.peal,c=a.list,d=c.get(0).getBoundingClientRect(),e=b.get(0).getBoundingClientRect();window.innerHeight-e.bottom>d.height?(c.removeAttr("style"),a.elem.find("span.caret-wrapper").removeClass("turnback")):e.top>d.height&&(c.css({top:-d.height+"px","box-shadow":"0 0 1px #ccc"}),a.elem.find("span.caret-wrapper").addClass("turnback"))}function d(b,c,d){var e=arguments[3]||0,f=arguments[4]||5;e++;var g=arguments.callee,h=a("<ul class='sub-drop-list'/>");3!=d.type&&h.addClass("hidden"),h.css({left:-f+"px"});for(var i=0;i<c.length;i++){var j=c[i],k=j[d.subKey]||j.sub||j.son||j.next||j.group,l=j[d.textKey]||j.text||j.label||j.title||j.name,m=j.val||j.value||l,n=a("<li class='drop-one-item' text="+l+" value="+m+" deep="+e+" title='"+l+"' />"),o=5*(e+2)+2;if(n.css({"padding-left":o+"px"}),k&&k instanceof Array){n.addClass("drop-recursive");var p=a("<i/>",{"class":"glyphicon"});p.addClass(d.caret),n.append(p).append(l),g(n,k,d,e,o)}else n.append(l);h.append(n)}b.append(h)}function e(b){this.val=function(c){if("object"==typeof c){var d=c[b.config.textKey]||c.label||c.text||c.value||c.name,e=c.value||c.val||c.id||d;b.elem.find("input").val(d).attr("data-val",e),a(b.elem.get(0)).data("val",e)}else b.elem.find("input").val(c).attr("data-val",c),a(b.elem.get(0)).data("val",c);return b.elem}}b.prototype.init=function(){var b=this;if(this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.peal.click(function(d){d.stopImmediatePropagation(),a(".ndp-drop-wrapper[id!="+b.config.id+"]").removeClass("focus"),a(".ndp-drop-wrapper[id!="+b.config.id+"] ul.drop-list").addClass("hidden"),b.elem.toggleClass("focus"),b.list.toggleClass("hidden"),c(b)}),b.list.find("li[class='drop-one-item'],li[class='drop-one-item split-line']").click(function(c){c.stopImmediatePropagation(),b.list.addClass("hidden");var d=(a(this).index(),a(this).attr("value"));if(a(b.elem.get(0)).data("val",d),3==b.config.type){var e=b.peal.find("input").val(),f=a(this).attr("title");e!==f&&fireEvent(b.elem.get(0),"ITEM_CHANGE",{val:d,text:f,group:g.index(),gpname:g.attr("title")}),b.peal.find("input").attr("data-val",d).val(f);var g=a(this).parents(".drop-one-item[deep='0']:first");fireEvent(b.elem.get(0),"ITEM_CLICK",{val:d,text:f,group:g.index(),gpname:g.attr("title")})}else{var e=b.peal.find("input").val(),f=a(this).attr("title");e!=f&&fireEvent(b.elem.get(0),"ITEM_CHANGE",{val:d,text:f}),b.peal.find("input").attr("data-val",d).val(f),fireEvent(b.elem.get(0),"ITEM_CLICK",{val:d,text:f})}}),b.peal.keyup(function(c){if(13==c.keyCode&&!b.list.hasClass("hidden")&&b.list.find("li.em").length){var d=b.list.find("li.em"),e=d.attr("title"),f=d.attr("value");d.attr("deep");if(a(this).find("input").val(e).attr("data-val",f),3==b.config.type){var g=d.parents(".drop-one-item[deep='0']:first");fireEvent(b.elem.get(0),"ITEM_CLICK",{val:f,text:e,group:g.index(),gpname:g.attr("title")})}else fireEvent(b.elem.get(0),"ITEM_CLICK",{val:f,text:e});b.list.addClass("hidden")}var h=b.list.find("li[class='drop-one-item'],li[class='drop-one-item split-line'],li[class='drop-one-item em'],li[class='drop-one-item split-line em']"),i=[].slice.call(h,0);if(40==c.keyCode)if(b.list.find("li.em").length){var j=b.list.data("now")||function(){for(var b=0;b<i.length;b++)if(a(i[b]).hasClass("em"))return b}(),k=h.filter(".em").first(),l=a(h[parseInt(j)+1]);l.get(0)?l.addClass("em"):h.first().addClass("em"),k.removeClass("em")}else h.first().addClass("em");else if(38==c.keyCode)if(k=h.filter(".em").first(),b.list.find("li.em").length){j=b.list.data("now")||function(){for(var b=0;b<i.length;b++)if(a(i[b]).hasClass("em"))return b}();var m=a(h[parseInt(j)-1]);m.get(0)?m.addClass("em"):h.last().addClass("em"),k.removeClass("em")}else h.last().addClass("em");else if(c.keyCode>=65&&c.keyCode<=90||c.keyCode>=48&&c.keyCode<=57)for(var n=String.fromCharCode(c.keyCode),o=new RegExp("^"+n,"i"),p=b.list.get(0),q=b.list.find("li[text]"),r=0;r<q.length;r++){var s=a(q.get(r)),e=s.attr("text"),f=s.attr("value");if(o.test(e)){if(b.list.hasClass("hidden"))b.elem.find("input").val(e).attr("data-val",f),fireEvent(b.elem.get(0),"ITEM_CLICK",{val:f,text:e});else if(s.siblings().removeClass("em"),s.addClass("em"),p.scrollHeight>p.clientHeight||p.offsetHeight>p.clientHeight){var t=s.get(0).offsetTop-p.clientHeight;t>0&&b.list.scrollTop(t+30)}break}}}),3!=b.config.type&&b.list.find("li.drop-recursive").click(function(d){d.stopImmediatePropagation(),a(this).children("ul.sub-drop-list").toggleClass("hidden"),a(this).children("i.glyphicon").toggleClass("turndown"),c(b)}),4==b.config.type){var d=a("<li class='drop-one-item apply-item'><button class='btn btn-default'>Apply</button></li>");b.list.append(d),b.list.find("li.checkbox-item:not(.all-banner)>input[type=checkbox]").change(function(){this.checked||b.list.find("li.all-banner>input[type=checkbox]").prop("checked",this.checked)}),b.list.find("li.apply-item").click(function(c){c.stopImmediatePropagation(),b.list.addClass("hidden");var d=b.list.find("li.checkbox-item:not(.all-banner):has(input[type]:checked)"),e=[],f=[];d.each(function(b,c){var d=a(c).attr("value"),g=a(c).text();e.push({index:a(c).index(),value:d,text:g}),f.push(g)}),b.peal.find("input").attr("checkedArr",JSON.stringify(e)).val(f.join(",")),fireEvent(b.elem.get(0),"APPLY_CLICK",{checkedArr:e})})}a(document,document.body).click(function(b){("INPUT"!=b.target.tagName||"checkbox"!=b.target.type)&&a(".ndp-drop-wrapper ul.drop-list").addClass("hidden"),a(".ndp-drop-wrapper").removeClass("focus")})},b.prototype.concrate=function(b){var c=this;this.peal=a("<div class='drop-peal' tabIndex='-1' />"),2==this.config.type&&this.peal.addClass("drop-split-peal"),this.list=a("<ul class='drop-list hidden' tabIndex='-1' tabIndex='-1' />"),this.peal.html('<input type="text" readonly="true"><span class="caret-wrapper" tabIndex=-1><span class="caret glyphicon '+c.config.caret+'"></span></span>'),this.elem.append(c.peal).append(c.list)},b.prototype.initConfig=function(){var b=this;b.config.placeholder&&b.peal.find("input").attr("placeholder",b.config.placeholder),b.config.val?(b.peal.find("input").val(b.config.val),a(b.elem.get(0)).data("val",b.config.val)):a(b.elem.get(0)).data("val",""),b.config.name&&b.peal.find("input").attr("name",b.config.name),b.config.allowInput&&b.elem.find("input").removeAttr("readonly"),b.config.data.forEach(function(c,e){if(c&&"object"==typeof c){var f=b.config.subKey,g=b.config.textKey,h=c[f]||c.sub||c.son||c.next||c.group,i=c[g]||c.text||c.label||c.title||c.name,j=c.val||c.value||c.id||i,k=c.other;if(h&&h instanceof Array){var l=a("<li class='drop-one-item drop-recursive' deep='0' />");if(3!=b.config.type){var m=a("<i/>",{"class":"glyphicon"});m.addClass(b.config.caret),l.append(m)}else l.addClass("group-hilight");l.append(i).attr({title:i,value:i,text:i}),d(l,h,b.config,0),b.list.append(l)}else{if(l=a("<li class='drop-one-item' text="+i+" value="+j+" deep='0' title='"+i+"' ><span title='"+i+"' >"+i+"</span></li>"),c.disable&&l.addClass("disabled"),c.split&&l.addClass("split-line"),4==b.config.type){var n=a("<input type='checkbox' value='"+j+"' />");l.addClass("checkbox-item").append(n)}k&&l.attr("data-other",k),b.list.append(l)}}else if("number"==typeof c||"string"==typeof c){if(l=a("<li class='drop-one-item' />"),l.attr({value:c,text:c,title:c}).append("<span title='"+c+"' >"+c+"</span>"),4==b.config.type){l.addClass("checkbox-item");var n=a("<input type='checkbox' value='"+j+"' />");
l.append(n)}b.list.append(l)}})},a.fn.drop=function(c){var d=this.first();if("object"==typeof c){var f=new b(d,c);return d=a.extend(!0,{},d,new e(f))}if("string"==typeof c){var g=d.data("drop");if(!g)return void console.log("还未初始化");var h=Array.prototype.slice.call(arguments,1),i=g[c](h);return i}},b.prototype.val=function(b){var c=this,b=b[0];if("object"==typeof b){var d=b[c.config.textKey]||b.label||b.text||b.value||b.name,e=b.value||b.val||b.id||d;c.elem.find("input").val(d).attr("data-val",e),a(c.elem.get(0)).data("val",e)}else c.elem.find("input").val(b).attr("data-val",b),a(c.elem.get(0)).data("val",b)},b.prototype.data=function(a){var b=this,c={val:b.elem.find("input").attr("data-val"),txt:b.elem.find("input").val()};return c},a.fn.drop.defaults={type:1,name:"drop",placeholder:null,allowInput:!1,textKey:"",subKey:"",val:null,caret:"glyphicon-triangle-right",data:[]}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='list-root' deep="+e+"  />");1==e&&g.addClass("list-deepest dropdown-menu").attr("aria-labelledby",c.id);for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='drop-list-item' data-index="+h+"/>"),k=a("<a  href='javascript:void(0);' class='content-part' data-index="+h+" data-deep="+e+"/>");if(j.append(k),i.icon){var l=a("<span class='icon-part' />");k.append(l)}if("object"==typeof i){var m=i.sub||i.son||i.next||i.group||i.children,n=i.text||i.label||i.title||i.name,o=i.val||i.value||n;i["class"]&&j.addClass(i["class"]),k.append(n).attr("title",n),k.attr({"data-val":o,"data-text":n}),j.attr({value:n,deep:e}),m&&m instanceof Array?(k.addClass("title-layer"),f(m,c,j,e)):j.addClass("list-leaf"),i.split&&k.addClass("drop2-split-line")}else k.append(i).attr({"data-val":i,"data-text":i}),j.attr({value:i,deep:e}).addClass("list-leaf");g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.drop2.defaults,b.data(),c),this.config.width=this.elem.width(),this.init()}function d(a){this.val=function(b){if(2==a.config.type){var c=b.text||b.label||b.name||b.value||b;a.hold.html(c).data("val",c)}return a.elem}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.elem.find(".content-part.title-layer").click(function(a){a.stopImmediatePropagation()}),this.elem.find(".content-part:not(:has(.title-layer))").click(function(c){var d=a(this).text();2==b.config.type?(b.hold.data("val")!=d&&fireEvent(a(this).get(0),"SELECT_CHANGE",{value:a(this).data("val"),text:a(this).data("text")}),b.hold.html(d).data("val",d)):fireEvent(a(this).get(0),"ITEM_CLICK",{value:a(this).data("val"),text:a(this).data("text")})})},c.prototype.concrate=function(b){var c=this;c.button=a("<button type='button' data-toggle='dropdown' />"),c.hold=a("<span />"),c.button.append(c.hold)},c.prototype.initConfig=function(){var a=this,c=this.config;a.button.attr("id",c.id),c.showcaret&&a.button.append(c.caret),a.hold.html("string"==typeof c.label?c.label:c.label.text||c.label.label||c.label.name),this.elem.append(a.button),b(c.data,c,a.elem,0)},a.fn.drop2=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.drop2;a.fn.drop2.Constructor=c,a.fn.drop2.noConflict=function(){return a.fn.drop=e,this},a.fn.drop2.defaults={type:1,id:"drop"+(new Date).valueOf(),showcaret:!0,caret:"<i class='glyphicon glyphicon-menu-down'></i>",label:"undefined",data:[]}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.drop3.defaults,b.data(),c),this.config.id="drop"+(new Date).valueOf(),this.config.wi=this.elem.width(),this.init(),b.data("drop3",this)}function c(b){this.val=function(c){if("object"==typeof c){var d=c[b.config.textKey]||c.label||c.text||c.value||c.name,e=c.value||c.val||d,f=c.id;b.elem.find("input").val(d).attr({"data-val":e,"data-text":d,"data-id":f})}else b.elem.find("input").val(c).attr({"data-val":c,"data-txt":c});return a(b.elem.get(0)).data("val",b.elem.find("input").data()),b.elem},this.resetPos=function(a){return b.pos(a),b.elem}}var d={fixPageXY:function(a){var b=document.documentElement,c=document.body,a=(a.get&&a.get(0)||a).getBoundingClientRect(),d={};return d.pageX=parseFloat(a.left)+(b.scrollLeft||c&&c.scrollLeft||0),d.pageX-=b.clientLeft||0,d.pageY=parseFloat(a.top)+(b.scrollTop||c&&c.scrollTop||0),d.pageY-=b.clientTop||0,d},recursive:function(b,c,d){var e=arguments[3]||0;arguments[4]||5;e++;var f=arguments.callee,g=a("<ul class='drop-list' />");3!=d.type&&e>1&&g.addClass("hidden");for(var h=0;h<c.length;h++){var i=c[h],j=i.sub||i.son||i.next||i.group,k=i.text||i.label||i.title||i.name,l=i.val||i.value||k,m=a("<li class='drop-one-item' data-txt="+k+" data-val="+l+" deep="+e+" title='"+k+"' data-id="+i.id+" />");if(j&&j instanceof Array){m.addClass("drop-recursive");var n=a("<i/>",{"class":"glyphicon"});n.addClass(d.caret),m.append(n).append(k),f(m,j,d,e)}else m.append(k).addClass("list-leaf");g.append(m)}b.append(g)}};b.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.click(function(a){a.stopImmediatePropagation(),b.elem.toggleClass("focus"),b.list.toggleClass("hidden").css("width",b.elem.width()+2+"px"),b.pos()}),b.list.find("li.list-leaf").click(function(c){var d=b.elem.find("input"),e=d.data(),f=a(this).data();d.val(f.txt).attr({"data-val":f.val,"data-txt":f.txt,"data-id":f.id}),a(b.elem.get(0)).data("val",f),fireEvent(b.elem.get(0),"ITEM_CLICK",f),e.val!=f.val&&fireEvent(b.elem.get(0),"ITEM_CHANGE",f)}),b.list.find("li.drop-recursive").click(function(b){b.stopImmediatePropagation(),a(this).children("ul").toggleClass("hidden")}),"number"==b.config.allowInputType&&b.elem.find("input").keydown(function(b){return b.keyCode<48&&8!=b.keyCode||b.keyCode>57?(b.preventDefault(),!1):8!=b.keyCode&&a(this).val().length>3?(b.preventDefault(),!1):void 0}),a(document).click(function(b){a(".drop3-list-wrapper").addClass("hidden"),a(".ndp-drop3-wrapper").removeClass("focus")}),a(window).resize(function(){b.pos()}),a(document).scroll(function(){b.pos()}),b.elem.on("WRAPPER_SCROLL",function(a,c){b.pos(c)}),b.elem.on("BEEN_REMOVED",function(a){b.list.remove()})},b.prototype.pos=function(a){var b=this;if(!b.list.hasClass("hidden")){var c=d.fixPageXY(b.elem),e=d.fixPageXY(b.config.bind);b.list.css({top:c.pageY-e.pageY+30+"px",left:c.pageX-e.pageX+"px"})}},b.prototype.concrate=function(b){var c=this,d='<input type="text" readonly="true"><span class="caret-wrapper" tabIndex=-1><span class="caret glyphicon '+c.config.caret+'"></span></span>';this.list=a("<div class='drop3-list-wrapper hidden'  tabindex='-1' id="+c.config.id+" />").css("width",c.config.wi+2+"px"),this.elem.append(d),c.config.bind?c.config.bind.append(this.list):a(document.body).append(this.list)},b.prototype.initConfig=function(){var a=this,b=this.config;b.placeholder&&a.elem.find("input").attr("placeholder",a.placeholder),b.allowInput&&a.elem.find("input").removeAttr("readonly"),b.data&&b.data.length&&d.recursive(a.list,b.data,b)},a.fn.drop3=function(d){var e=this.first();if("object"==typeof d){var f=new b(e,d);return e=a.extend(!0,{},e,new c(f))}if("string"==typeof d){var g=e.data("drop3");if(!g)return void console.log("还未初始化");var h=Array.prototype.slice.call(arguments,1),i=g[d](h);return i}},b.prototype.close=function(){this.list.addClass("hidden"),this.elem.removeClass("focus")},b.prototype.val=function(b){var c=this,b=b[0];if("object"==typeof b){var d=b[c.config.textKey]||b.label||b.text||b.value||b.name,e=b.value||b.val||d,f=b.id;c.elem.find("input").val(d).attr({"data-val":e,"data-text":d,"data-id":f}),a(c.elem.get(0)).data("val",{val:e,txt:d})}else c.elem.find("input").val(b).attr({"data-val":b,"data-txt":b}),a(c.elem.get(0)).data("val",{val:b,txt:b})},a.fn.drop3.defaults={name:"drop3",placeholder:null,allowInput:!1,allowInputType:"number",val:null,bind:null,caret:"glyphicon-triangle-right",data:[]}}(jQuery),function(a){function b(b){var c=a('<div class="carousel slide" data-ride="carousel" id="gallery-carousel">'),d=a('<div class="carousel-inner" role="listbox">');window.innerWidth,window.innerHeight;b.forEach(function(b,c){var e=a('<div class="item" index='+c+" w="+b.w+" h="+b.h+">");0==c&&e.addClass("active");var f=a("<img data-img="+b.big+" >");0==c&&f.attr("src",b.big);var g=a('<div class="carousel-caption">');e.append(f).append(g),d.append(e)});var e=a('<a class="left carousel-control hidden" href="#gallery-carousel" role="button" 					data-slide="prev">    				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>    				<span class="sr-only">Previous</span>  				</a>'),f=a('<a class="right carousel-control" href="#gallery-carousel" role="button" 					data-slide="next">    			<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>    			<span class="sr-only">Next</span>  				</a>');return c.append(d).append(e).append(f),c}function c(b,c){var d=window.innerWidth,e=window.innerHeight-240,f=b/c,g=a(".modal-gallery .modal-content");d/e>f?g.css({width:Math.round(e*f),"margin-left":-Math.round(e*f)/2+"px"}):g.css({width:d,"margin-left":-(d/2)+"px"})}function d(d,e){function f(){setTimeout(function(){var a=h.list.get(0).getBoundingClientRect(),b=h.list.find("ul>li:first"),c=h.list.find("ul>li:last").get(0).getBoundingClientRect(),d=parseInt(b.css("margin-left"));b.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd").on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(e){d=parseInt(b.css("margin-left")),5==d?h.lfButton.addClass("disabled"):h.lfButton.removeClass("disabled"),a.right>=c.right?h.rtButton.addClass("disabled"):h.rtButton.removeClass("disabled")}),5==d?h.lfButton.addClass("disabled"):h.lfButton.removeClass("disabled"),a.right>=c.right?h.rtButton.addClass("disabled"):h.rtButton.removeClass("disabled")},250)}function g(a){var b=h.body.find("div.item[index="+a+"] img"),c=b.data("img");b.attr("src")||b.attr("src",c)}var h=this;this.elem=d,this.config=a.extend(!0,{},a.fn.gallery.defaults,d.data(),e),this.init(),this.elem.click(function(d){var e=h.config.data.length;h.body.empty().append(b(h.config.data));var g=h.list.find("ul").empty().attr("data-len",e);h.config.data.forEach(function(b,c){var d=a("<li class='gallery-list-cell' index="+c+"></li>");c==e-1&&d.attr("lastone","true"),0==c&&d.addClass("active");var f=a("<img width='100%' height='100%'  /> ");b.small&&f.attr("src",b.small),d.append(f),g.append(d)});var i=h.config.data[h.config.current];c(i.w,i.h),h.wrapper.modal(),f();var j=a("#gallery-carousel").find("img[data-img][index='1']");j.attr("src",j.data("img"))}),h.wrapper.unbind("click").click(function(a){a.preventDefault(),a.stopImmediatePropagation()}),h.list.find("ul").unbind("click").click(function(b){var d=a(this).data("len");if("UL"!=b.target.tagName){var e="IMG"==b.target.tagName?a(b.target).parent():a(b.target),f=e.attr("index");e.addClass("active").siblings().removeClass("active");var i=h.body.find("div.carousel-inner div.item[index="+f+"]");c(i.attr("w"),i.attr("h")),i.addClass("active").siblings().removeClass("active"),g(f),g(f+1);var j=h.body.find("a.left.carousel-control"),k=h.body.find("a.right.carousel-control");0==f?(j.addClass("hidden"),k.removeClass("hidden")):f==d-1?(k.addClass("hidden"),j.removeClass("hidden")):(k.removeClass("hidden"),j.removeClass("hidden"))}}),h.lfButton.click(function(b){if(b.stopImmediatePropagation(),a(this).hasClass("disabled"))return!1;var c=h.list.find("ul"),d=parseFloat(c.find("li:first").css("marginLeft")||0);c.find("li:first").css("marginLeft",d+100+"px"),f()}),h.rtButton.click(function(b){if(b.stopImmediatePropagation(),a(this).hasClass("disabled"))return!1;var c=h.list.find("ul"),d=parseFloat(c.find("li:first").css("marginLeft"));c.find("li:first").css("marginLeft",d-100+"px"),f()}),h.body.unbind("click").click(function(b){var d=h.list.find("ul[data-len]").data("len"),e=h.body.find("a.left.carousel-control"),f=h.body.find("a.right.carousel-control");if("A"==b.target.tagName&&a(b.target).hasClass("left")||"SPAN"==b.target.tagName&&-1!=a(b.target).attr("class").indexOf("left")){var i=h.list.find("ul>li.active"),j=parseInt(i.attr("index"));if(1>j){var k=0;return!1}e.removeClass("hidden"),f.removeClass("hidden"),k=j-1;var l=h.list.find("ul>li[index="+(j-1)+"]");l.addClass("active").siblings().removeClass("active");var m=h.body.find("div.carousel-inner"),n=m.find("div.item[index="+(j-1)+"]");c(n.attr("w"),n.attr("h")),n.addClass("active").siblings().removeClass("active"),parseInt(i.attr("index"))<=1&&e.addClass("hidden")}else if("A"==b.target.tagName&&a(b.target).hasClass("right")||"SPAN"==b.target.tagName&&-1!=a(b.target).attr("class").indexOf("right")){var i=h.list.find("ul>li.active"),j=parseInt(i.attr("index"));if(j>=d-1)return!1;f.removeClass("hidden"),e.removeClass("hidden");var k=j+1>=d?j:j+1;l=h.list.find("ul>li[index="+k+"]"),l.addClass("active").siblings().removeClass("active");var m=h.body.find("div.carousel-inner");m.find("div.item[index="+k+"] img").data("src");g(k),g(k+1),n=m.find("div.item[index="+k+"]"),c(n.attr("w"),n.attr("h")),n.addClass("active").siblings().removeClass("active"),k>=d-1&&f.addClass("hidden")}}),a(window).resize(function(a){if(f(),h.wrapper.hasClass("in")){var b=h.body.find("div.carousel-inner div.item.active");c(b.attr("w"),b.attr("h"))}})}function e(a){}d.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig()},d.prototype.concrate=function(b){var c=this,d=a(document.body);0==d.find("[id*='gallery'][class*='modal fade']").length?(c.wrapper=a('<div class="modal fade" tabindex="-1" role="dialog" id="gallery-holder">					  <div class="modal-dialog modal-gallery">						<div class="modal-content"></div>					  </div>					</div>'),c.body=a('<div class="modal-body"></div>'),c.dock=a('<div class="gallery-list-wrapper"></div>'),c.lfButton=a("<i class='glyphicon glyphicon-triangle-left'></i>"),c.rtButton=a("<i class='glyphicon glyphicon-triangle-right'></i>"),c.list=a("<div class='list-box'><ul></ul></div>"),c.dock.append(c.lfButton).append(c.list).append(c.rtButton),c.wrapper.find("div.modal-content").append(c.body),c.close=a('<button class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span>						  </button>'),c.wrapper.append(c.dock).append(c.close),d.append(c.wrapper)):(c.wrapper=d.find("#gallery-holder"),c.body=c.wrapper.find("div.modal-body"),c.dock=c.wrapper.find(".gallery-list-wrapper"),c.lfButton=c.wrapper.find("i.glyphicon-triangle-left"),c.rtButton=c.wrapper.find("i.glyphicon-triangle-right"),c.list=c.dock.find("div.list-box:has(ul)")),this.cover=a('<img class="img-thumbnail" width="100%" height="100%">'),this.mask=a('<div class="gallery-mask"><i class="glyphicon glyphicon-zoom-in"></i></div>'),this.elem.append(this.cover).append(this.mask)},d.prototype.initConfig=function(){var a=this,b=this.config;b.cover&&a.cover.attr("src",b.cover),b.data&&b.data.length||(a.lfButton.addClass("disabled"),a.rtButton.addClass("disabled"))},a.fn.gallery=function(b){var c=this.first(),f=new d(c,b);return c=a.extend(!0,{},c,new e(f))};var f=a.fn.gallery;a.fn.gallery.Constructor=d,a.fn.gallery.noConflict=function(){return a.fn.gallery=f,this},a.fn.gallery.defaults={current:0,cover:"",data:[]}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.navbar.defaults,b.data(),c),this.init()}function c(a){this.manipulate=function(a){}}b.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.list.find("li:has(a)").click(function(b){b.stopImmediatePropagation(),a(this).hasClass("active")||(a(this).addClass("active"),a(this).siblings().removeClass("active"))})},b.prototype.concrate=function(b){var c=this,d=a('<div class="container-fluid" />'),e=a('<div class="collapse navbar-collapse" />');if(this.list=a('<ul class="nav navbar-nav" />'),1==this.config.type)this.elem.addClass("nav-padding"),d.append(e.append(c.list));else if(2==this.config.type){this.elem.addClass("nav-padding-multi");var f=a('<div class="navbar-header">'),g=a('<a class="navbar-brand" href="#">Brand&Logo</a>');f.append(g),d.append(f).append(e.append(c.list)),this.list.addClass("nav-list-specify")}this.config.data.forEach(function(b,d){if("string"==typeof b){var f=b,g=a('<li><a href="#">'+f+"</a></li>");c.list.append(g)}else if(b.hasOwnProperty("type"))switch(f=b.label||b.text||b.name,b.type){case"link":g=a('<li><a href="#">'+f+"</a></li>"),c.list.append(g);break;case"input":case"button":c.hasOwnProperty("form")||(c.form=a('<form class="navbar-form navbar-left navbar-form-specify" />'),e.prepend(c.form)),g=a('<div class="form-group"></div>'),"input"==b.type?g.html('<input type="text" class="form-control" placeholder="Search">',{value:f}):"button"==b.type&&(g=a('<button type="text" class="btn btn-default">'+f+"</button>")),c.form.append(g)}else c.list.append(g)}),this.elem.append(d)},b.prototype.initConfig=function(){},a.fn.navbar=function(a){var d=this.first(),e=new b(d,a);return c.call(this,e),d},a.fn.navbar.defaults={type:1,data:["link1","like2","like3"]}}(jQuery),function(a){function b(a){var b=a.dropwrapper||a.find(".drop-wrapper"),c=a.dropwrapper&&a.dropwrapper.find("ul.page-dropdown")||a.find("ul.page-dropdown"),d=c.get(0).getBoundingClientRect(),e=b.get(0).getBoundingClientRect();window.innerHeight-e.bottom>d.height?(c.removeAttr("style"),b.find("i.glyphicon-triangle-bottom").removeClass("turnback")):e.top>d.height&&(c.css({top:-d.height+"px"}),b.find("i.glyphicon-triangle-bottom").addClass("turnback"))}function c(a,b){0>=a&&(a=1);for(var c="",d=Math.min(b.config.showPage,b.config.totalPages),e=a;a+d-1>=e;e++)c+="<li class='page-item' value="+e+">"+e+"</li>";return c}function d(b){var d=b,e=arguments.callee,f=d.list,g=d.config,h=f.find("li.page-item:not([role])");h.unbind("click").click(function(b){var i=a(this).attr("value");b.stopImmediatePropagation(),a(this).addClass("active").siblings("li").removeClass("active");var j=parseInt(h.first().text()),k=parseInt(h.last().text());if(a(this).text()==j&&1!=j){var l=j-1;if(l>=2)var m=c(j-2,d);else m=c(j-1,d);f.find("li.page-item:not([role])").remove(),a(m).insertAfter(f.find("li.page-item[role=begin]")),f.find("li[value="+i+"]").addClass("active"),e(d)}a(this).text()==k&&k!=g.totalPages&&(l=g.totalPages-k,m=l>=2?c(j+2,d):c(j+1,d),f.find("li.page-item:not([role])").remove(),a(m).insertAfter(f.find("li.page-item[role=begin]")),f.find("li[value="+i+"]").addClass("active"),e(d)),i==g.totalPages?f.find("li.page-item[role=end]").addClass("disabled"):1==i?f.find("li.page-item[role=begin]").addClass("disabled"):f.find("li.page-item[role]").removeClass("disabled"),fireEvent(d.elem.get(0),"PAGE_CHANGE",{currentPage:parseInt(i)})})}function e(b){var e=b.config;b.list&&b.list.children().length?b.list.empty():b.list=a("<ul class='pagination'/>"),b.beginButton=a("<li class='page-item' role='begin' >"+e.begin+"</li>"),1==e.currentPage&&b.beginButton.addClass("disabled"),b.endButton=a("<li class='page-item' role='end'>"+e.end+"</li>");var f=(Math.min(e.totalPages,e.showPage),c(1,b));b.list.append(b.beginButton).append(f).append(b.endButton),b.list.find("li.page-item:not([role]):first").addClass("active"),b.elem.append(b.list),d(b),b.list.find("li[role].page-item").unbind("click").click(function(g){if(g.stopImmediatePropagation(),a(this).hasClass("disabled"))return!1;var h=b.list.find("li.page-item:not([role]):first").text(),i=b.list.find("li.page-item:not([role]):last").text(),j=1;"begin"==a(this).attr("role")?(1!=h&&(f=c(1,b),b.list.find("li.page-item:not([role])").remove(),a(f).insertAfter(b.list.find("li.page-item[role=begin]")),d(b)),b.list.find("li.page-item:not([role]):first").addClass("active").siblings().removeClass("active"),a(this).addClass("disabled").siblings().removeClass("disabled"),j=1):(i!=b.config.totalPages&&(f=c(e.totalPages-e.showPage+1,b),b.list.find("li.page-item:not([role])").remove(),a(f).insertAfter(b.list.find("li.page-item[role=begin]")),d(b)),b.list.find("li.page-item:not([role]):last").addClass("active").siblings().removeClass("active"),a(this).addClass("disabled").siblings().removeClass("disabled"),j=b.config.totalPages),fireEvent(b.elem.get(0),"PAGE_CHANGE",{currentPage:j})})}function f(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.page.defaults,b.data(),c),this.config.totalItems&&(this.config.totalPages=Math.ceil(this.config.totalItems/this.config.perPage)),this.config.showPage=5,this.init()}function g(a){this.val=function(b){var b=parseInt(b)||1;return a.setpage(b),a.elem}}f.prototype.init=function(){var c=this;c.concrate(),c.initConfig(),(2==c.config.type||3==c.config.type)&&(c.dropwrapper.mouseenter(function(d){d.stopImmediatePropagation(),a(this).find("ul.page-dropdown").toggleClass("hidden"),b(c)}),c.dropwrapper.mouseleave(function(b){b.stopImmediatePropagation(),a(this).find("ul.page-dropdown").addClass("hidden")}),c.dropwrapper.find("ul.page-dropdown>li").click(function(b){b.stopImmediatePropagation(),a(this).parent().addClass("hidden");var d=parseInt(a(this).text());c.pagetext.text()!=d&&(c.pagetext.text(d),c.num.html(d),c.config.perPage=parseInt(d),c.config.totalPages=Math.ceil(c.config.totalItems/c.config.perPage),e(c),fireEvent(c.elem.get(0),"SHOW_ITEMS_CHANGE",{currentPage:1,perpage:d}))})),4==c.config.type&&(c.elem.find(".drop-wrapper").click(function(d){d.stopImmediatePropagation(),a(this).find("ul").toggleClass("hidden"),b(c.elem)}),c.elem.find(".drop-wrapper>ul>li").click(function(b){a(this).parents(".drop-wrapper:first").find(".text-show").text("第"+a(this).attr("val")+"页"),a(this).addClass("active").siblings().removeClass("active");var d=parseInt(a(this).attr("val"));fireEvent(c.elem.get(0),"PAGE_CHANGE",{currentPage:d})}),c.elem.find(".pre-page").click(function(a){a.stopImmediatePropagation();var b=c.elem.find(".drop-wrapper>ul>li.active"),d=parseInt(b.attr("val"));d>1&&(d-=1,b.removeClass("active").prev().addClass("active"),c.elem.find(".text-show").text("第"+d+"页")),fireEvent(c.elem.get(0),"PAGE_CHANGE",{currentPage:d})}),c.elem.find(".next-page").click(function(a){a.stopImmediatePropagation();var b=c.elem.find(".drop-wrapper>ul>li.active"),d=parseInt(c.elem.find(".drop-wrapper>ul>li:last").attr("val")),e=parseInt(b.attr("val"));d>e&&(e+=1,b.removeClass("active").next().addClass("active"),c.elem.find(".text-show").text("第"+e+"页")),fireEvent(c.elem.get(0),"PAGE_CHANGE",{currentPage:e})})),a(document).click(function(a){c.elem.find(".drop-wrapper>.page-dropdown").addClass("hidden")})},f.prototype.concrate=function(){var b=this,c=b.config;if(2==c.type||3==c.type){c.defItems>=c.perPages.length&&(c.defItems=0),b.pagetext=a("<span class='page-choosed-text'/>").html(c.perPages[c.defItems]),b.dropwrapper=a("<span class='page-drop-list'/>");var d=a("<i class='glyphicon glyphicon-menu-hamburger' />"),f=a("<i class='glyphicon glyphicon-triangle-bottom' />"),g=a("<ul class='page-dropdown hidden'/>");b.num=a("<div class='page-now' />").text(c.perPages[c.defItems]),2==c.type?b.dropwrapper.append(d).append(f):3==c.type&&b.dropwrapper.append(b.num).append(f),c.perPages.forEach(function(b){if("string"==typeof b||"number"==typeof b)var c=b;else c=b.name||b.text||b.pages;var d=a("<li />").text(c);g.append(d)}),b.dropwrapper.append(g),2==c.type?b.elem.append(b.pagetext).append(b.dropwrapper):3==c.type&&b.elem.append(b.dropwrapper)}if(c.type<4&&e(b),4==c.type){var h=a("<span class='pre-page' />").html(c.pre),g=a("<ul class='page-dropdown hidden' />"),i=a("<span class='drop-wrapper' />").append("<div class='text-show'></div>").append(g),j=a("<span class='next-page' />").html(c.next);c.currentPage,i.find(".text-show").text("第"+(c.currentPage||1)+"页");for(var k=1;k<=c.totalPages;k++){var l=a("<li index="+k+"  val="+k+" >第"+k+"页</li>");c.currentPage==k&&l.addClass("active"),g.append(l)}b.elem.append(h).append(i).append(j).addClass("special")}},f.prototype.initConfig=function(){var a=this,b=a.config,c=a.config.currentPage||1;4==b.type||(b.currentPage,0)||a.list.find("li.page-item[value="+c+"]").addClass("active"),2==b.type&&b.perPage&&a.pagetext.text(b.perPage)},f.prototype.setpage=function(a){this.config.totalPages},a.fn.page=function(b){var c=this.first(),d=new f(c,b);return c=a.extend(!0,{},c,new g(d))};var h=a.fn.page;a.fn.page.Constructor=f,a.fn.page.noConflict=function(){return a.fn.page=h,this},a.fn.page.defaults={type:1,begin:"<i class='glyphicon glyphicon-step-backward'></i>",end:"<i class='glyphicon glyphicon-step-forward'></i>",totalPages:1,currentPage:1,perPage:10,defItems:0,perPages:[10,20,30],totalItems:0,pre:"上一页",next:"下一页"}}(jQuery),function(a){function b(b,c){this.$elem=a(b),this.config=a.extend(!0,a.fn.progressbar.defaults,{css:this.$elem.attr("data-progressbar-css"),progress:this.$elem.attr("data-progressbar-progress"),width:this.$elem.attr("data-progressbar-width"),size:this.$elem.attr("data-progressbar-size")},c),this.init(c)}var c='<div class="{{css}}" data-progressbar-shape="{{shape}}">                <div class="progress progressbar-default" style="width: {{width}}px;">                    <div class="progress-bar" role="progressbar" style="width: {{progress}}; height: {{size}}px;">                    </div>                </div>                <div class="progressbar-circle" style="width: {{width}}px; height: {{width}}px;">                    <div class="progressbar-pie-left" style="clip: rect(0, {{clip-width}}px, auto, 0);">                        <div class="progressbar-left" style="clip: rect(0, {{clip-width}}px, auto, 0);">                        </div>                    </div>                    <div class="progressbar-pie-right" style="clip: rect(0, auto, auto, {{clip-width}}px);">                        <div class="progressbar-right" style="clip: rect(0, auto, auto, {{clip-width}}px);">                        </div>                    </div>                    <div class="progressbar-mask" data-progress="{{progress}}" style="width: {{circle-inner}}px; height: {{circle-inner}}px; left: {{size}}px; top: {{size}}px;"></div>                </div>            </div>';b.prototype={constructor:"Progressbar",init:function(){this.buildDom()},buildDom:function(){this.$progress=a(c.replace("{{css}}",this.config.css).replace(/{{progress}}/gi,this.config.progress).replace(/{{width}}/gi,this.config.width).replace(/{{size}}/gi,this.config.size).replace(/{{clip-width}}/gi,this.config.width/2).replace(/{{circle-inner}}/gi,this.config.width-2*this.config.size).replace(/{{shape}}/gi,this.config.shape)),this.$bar=this.$progress.find(".progress-bar"),this.$circle=this.$progress.find(".progressbar-circle"),this.setProgress(this.config.progress),this.$elem.html(this.$progress)},setProgress:function(a){this.config.progress=a,this.$bar.css("width",a);var b=3.6*parseInt(a),c=this.$circle.find(".progressbar-right"),d=this.$circle.find(".progressbar-left");return this.$circle.find(".progressbar-mask").attr("data-progress",a),180>=b?(d.css("transform","rotate(0deg)"),setTimeout(function(){c.css("transform","rotate("+b+"deg)")},500)):(c.css("transform","rotate(180deg)"),setTimeout(function(){d.css("transform","rotate("+(b-180)+"deg)")},500)),this},getProgress:function(){return this.config.progress},setShape:function(a){return this.config.shape=a,this.init(),this},getShape:function(){return this.config.shape},setWidth:function(a){return this.config.width=a,this.init(),this},getWidth:function(){return this.config.width},setSize:function(a){return this.config.size=a,this.init(),this},getSize:function(){return this.config.size}},a.fn.progressbar=function(a,c){var d=this;return this.each(function(e,f){if(f.progressbarInstance){if(["progress","shape","size","width"].indexOf(a)>-1){var g=a.toLowerCase().replace(/[a-zA-Z]/,function(a){return a.toUpperCase()});c?f.progressbarInstance["set"+g](c):d=f.progressbarInstance["get"+g]()}}else f.progressbarInstance=new b(f,a)}),d},a.fn.progressbar.defaults={css:"",progress:"80%",shape:"default",width:100,size:5}}(jQuery),function(a,b){function c(){0==a(document.body).find("[id*='prompt'][class*='modal fade']").length?(g=a('<div class="modal fade" tabindex="-1" role="dialog" id="prompt-holder">					  <div class="modal-dialog modal-md modal-dialog-ndp">						<div class="modal-content"></div>					  </div>					</div>'),h=a('<div class="modal-header">						  		<button class="close" data-dismiss="modal">						  			<span aria-hidden="true">&times;</span>						  		</button>								<span class="top-title"></span>						    </div>'),i=a('<div class="modal-body"></div>'),j=a('<div class="modal-footer">								<button class="btn btn-default btn-ok" data-dismiss="modal"></button>								<button class="btn btn-default btn-cancel" data-dismiss="modal"></button>						    </div>'),g.find("div.modal-content").append(h).append(i).append(j),a(document.body).append(g)):(i&&i.removeAttr("class").addClass("modal-body"),j&&(j.removeAttr("class").addClass("modal-footer"),j.find("button.btn-ok").addClass("disabled")))}function d(a){j&&(j.find("button.btn-ok:not(.disabled)").unbind("click").click(function(b){a.status="ok"}),j.find("button.btn-ok.disabled").unbind("click").click(function(a){a.preventDefault(),a.stopImmediatePropagation()}))}function e(b,c){var d=this;this.elem=b,this.config=a.extend(!0,{},a.fn.prompt.defaults,c),this.init(),this.status="",this.elem.modal().unbind("hide.bs.modal").on("hide.bs.modal",function(a){a.stopImmediatePropagation(),"ok"==d.status?d.config.onOk():d.config.onCancel()})}function f(a){this.manipulate=function(a){}}var g,h,i,j;a(document).ready(function(){c()}),e.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),d(this),this.elem.find("button.btn-cancel").unbind("click").click(function(a){this.status="cancel"})},e.prototype.concrate=function(a){c()},e.prototype.initConfig=function(){var a=this,b=a.config;b.title?h&&h.find(".top-title").html(b.title):h.find(".top-title").html(""),b.header&&("function"==typeof b.header?b.header(h,g):h.html(b.header)),b.body?(i.empty(),"function"==typeof b.body?b.body(i,g):i.html(b.body)):i&&i.empty(),b.btnOK&&j&&j.find("button.btn-ok").text(b.btnOK),b.btnCANCEL&&j&&j.find("button.btn-cancel").text(b.btnCANCEL),b.footer&&("function"==typeof b.footer?b.footer(j,g):j.html(b.footer)),b.validate&&(b.validate(i)?j.find("button.btn-ok").removeClass("disabled"):j.find("button.btn-ok").addClass("disabled"),d(a))},a.fn.prompt=function(a){var b=this.first(),c=new e(b,a);return f.call(this,c),b},a.fn.prompt.defaults={title:"认证表单",btnOK:"保存",btnCANCEL:"取消",validate:null,header:null,body:null,footer:null,onOk:function(){},onCancel:function(){}},b.showPrompt=function(b){a("#prompt-holder").prompt(b)}}(jQuery,window),function(a){function b(a){var b=a.peal,c=a.list,d=c.get(0).getBoundingClientRect(),e=b.get(0).getBoundingClientRect();window.innerHeight-e.bottom>d.height?(c.removeAttr("style"),a.elem.find("i.glyphicon-menu-down").removeClass("turnback")):e.top>d.height&&(c.css({top:-d.height+"px","box-shadow":"0 0 1px #ccc"}),a.elem.find("i.glyphicon-menu-down").addClass("turnback"))}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.search.defaults,b.data(),c),this.config.wi=this.elem.width()||30,this.init()}function d(a){this.val=function(b){var c="string"==typeof b||"number"==typeof b?b:b.label||b.text||b.name||b.value;return a.elem.find("input").val(c),a.elem},this.updateOption=function(b){return a.config.ajaxOptions=b,a.elem},this.clear=function(){return a.elem.find("input").val(""),a.dropmenu.empty().addClass("hidden"),a.elem}}c.prototype.init=function(){var c=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.input.focus(function(a){a.stopImmediatePropagation(),c.elem.addClass("focus"),fireEvent(c.elem.get(0),"search_focus"),(3==c.config.type||4==c.config.type)&&c.dropmenu.children().length>0&&c.dropmenu.removeClass("hidden")}),this.input.click(function(a){
a.stopImmediatePropagation()}),this.input.blur(function(a){a.stopImmediatePropagation(),c.elem.removeClass("focus")}),this.icon.click(function(){return c.elem.hasClass("disabled")?!1:void fireEvent(c.elem.get(0),"do_search",{text:c.input.val()})}),this.input.keyup(function(b){if(b.preventDefault(),13==b.keyCode&&(3==c.config.type||4==c.config.type)&&(c.dropmenu.addClass("hidden"),fireEvent(c.elem.get(0),"ITEM_SELECT",{text:a(this).val()})),40==b.keyCode){if(0==c.dropmenu.find("li.em").length)c.dropmenu.find("li:first").addClass("em").siblings().removeClass("em");else{var d=parseInt(c.dropmenu.find("li.em").attr("index"))+1,e=c.dropmenu.find("li[index="+d+"]");e.length>0?e.addClass("em").siblings().removeClass("em"):c.dropmenu.find("li:first").addClass("em").siblings().removeClass("em")}var f=c.dropmenu.find("li.em");c.input.val(f.attr("val")),c.wrapper.find(".close-cus").removeClass("hide")}else if(38==b.keyCode){if(0==c.dropmenu.find("li.em").length)c.dropmenu.focus().find("li:last").addClass("em").siblings().removeClass("em");else{var g=parseInt(c.dropmenu.find("li.em").attr("index"))-1;e=c.dropmenu.find("li[index="+g+"]"),e.length>0?e.addClass("em").siblings().removeClass("em"):c.dropmenu.find("li:last").addClass("em").siblings().removeClass("em")}f=c.dropmenu.find("li.em"),c.input.val(f.attr("val")),c.wrapper.find(".close-cus").removeClass("hide")}}),c.input.on("input",function(b){a(this);if(b.stopImmediatePropagation(),3==c.config.type||4==c.config.type){c.wrapper.addClass("loading");var d=a(this).val(),e=a.extend({},c.config.ajaxOptions);e.data?"function"==typeof e.data&&(e.data=e.data(d)):e.data={key:d},null!=c.xhr&&(c.xhr.abort(),c.xhr=null),c.xhr=a.ajax(e),c.xhr.then(function(b){c.config.ajaxOptions.processResults&&(b=c.config.ajaxOptions.processResults(b)),"string"==typeof b&&(b=JSON.parse(b)),c.dropmenu.empty();var e=b.data;e&&e.length?e.forEach(function(b,e){var f="string"==typeof b?b:b.text||b.label||b.name,g=b.val||b.value||f,h=b.id,i=new RegExp("["+d+"]+","i"),j=new RegExp(d,"i");if(String(f).match(j))var k=String(f).match(j)[0];else k=String(f).match(i)?String(f).match(i)[0]:"";var l=k.length,m=new RegExp(k,"i"),n=f.search(m),o=f.split("");o.splice(n,0,"<em>"),o.splice(n+l+1,0,"</em>");var p=o.join("");if(c.config.rowdec)var q=c.config.rowdec(b,e,p);else{var q=a('<li class="result-option" data-val="'+g+'" data-name="'+f+'" data-text='+f+" index="+e+" tabIndex="+e+'><a href="#">'+(p||f)+"</a></li>");h&&q.attr("data-id",h)}b.path&&(b.path=b.path.join("#").replace(/\s/g,"")),q.data("info",b),c.dropmenu.append(q)}):c.dropmenu.append('<li class="no-result">'+c.config.formatNoMatches+"</li>"),c.dropmenu.removeClass("hidden"),c.wrapper.removeClass("loading"),c.dropmenu.find("li").unbind("click").click(function(b){return b.preventDefault(),b.stopImmediatePropagation(),a(this).hasClass("no-result")?!1:a(this).hasClass("selected")?!1:(c.config.clickhide&&c.input.val(a(this).data("text")),c.config.clickhide&&c.dropmenu.addClass("hidden"),c.wrapper.find(".close-cus").removeClass("hide"),fireEvent(c.elem.get(0),"ITEM_SELECT",a(this).data("info")),void(c.config.clickhide||a(this).addClass("selected")))})},function(a){c.wrapper.removeClass("loading")})}fireEvent(c.elem.get(0),"INPUT_CHANGE",{text:a(this).val()})}),this.elem.find("span.search-drop").click(function(a){return a.stopImmediatePropagation(),c.elem.hasClass("disabled")?!1:(c.elem.find("ul.search-drop-wrapper").toggleClass("hidden"),void(c.elem.find("ul.search-drop-wrapper").hasClass("hidden")||b(c)))}),this.elem.find("li.search-item").click(function(b){if(b.stopImmediatePropagation(),c.elem.hasClass("disabled"))return!1;var d=a(this).attr("val"),e=a(this).attr("index");return c.elem.find("ul.search-drop-wrapper").toggleClass("hidden"),e==c.elem.find("span.selected-item").attr("index")?!1:(c.elem.find("span.selected-item").text(d).attr({index:e,val:d,name:d}),void fireEvent(c.elem.get(0),"SCOPE_CHANGE",{index:e,value:d}))}),this.wrapper.find(".close-cus").click(function(b){b.stopImmediatePropagation(),fireEvent(c.wrapper.get(0),"INPUT_CLEAR",{text:c.input.val()}),a(this).addClass("hide"),c.input.val("").removeAttr("name")}),a(document).click(function(a){c.elem.find("ul.search-drop-wrapper").addClass("hidden"),c.elem.find(".dropdown-menu-cus").addClass("hidden")})},c.prototype.concrate=function(b){this.wrapper=a("<div class='search-decoration' />"),this.input=a("<input class='form-control search-input' type='text' />"),this.wrapper.append(this.input),this.dropmenu=a('<ul class="dropdown-menu dropdown-menu-cus hidden" />'),this.wrapper.append(this.dropmenu),this.elem.append(this.wrapper)},c.prototype.initConfig=function(){var b=this,c=this.config;if(2==c.type||4==c.type){this.peal=a("<span class='search-drop'/>");var d=a("<span class='selected-item' tabIndex='-1' />");if(this.peal.append(d).append("<i class='drop-spliter'></i>"),c.dropList&&c.dropList.length>0){this.list=a("<ul  class='search-drop-wrapper hidden'/>");for(var e=0;e<c.dropList.length;e++){var f=c.dropList[e];if("object"==typeof f)var g=f.name||f.label||f.text;else g=f;0==e&&d.text(g).attr("index",0);var h=a("<li class='search-item' />").text(g).attr({index:e,val:g,title:g});b.list.append(h)}this.peal.append(b.list).append("<i class='glyphicon glyphicon-menu-down' />")}this.elem.prepend(this.peal),this.wrapper.css({width:"70%"}),this.peal.css("line-height",this.elem.height()+"px")}else this.wrapper.removeAttr("style");if(3==c.type||4==c.type){var i=b.wrapper.height(),j=a('<div class="spinner">						  <div class="bounce1"></div>						  <div class="bounce2"></div>						  <div class="bounce3"></div>						</div>').css({"line-height":(i||28)+"px",height:(i||28)+"px"}),k=parseFloat(b.input.css("height")||30),l=a('<span class="close close-cus hide">&times;</span>').css("right",k+"px");b.wrapper.append(j).append(l)}if(c.magicon){this.icon=a(c.magicon),this.wrapper.append(this.icon);var m=this.elem.height();this.input.css({width:(b.wrapper.width()||b.elem.wi)-(m||28)-2+"px",height:(m||28)+"px","line-height":(m||28)+"px"}),this.icon.css({width:(m||28)+"px",height:(m||28)+"px","line-height":(m||28)+"px"})}c.placeholder&&this.input.attr("placeholder",c.placeholder),c.disabled?(this.elem.removeClass("focus").addClass("disabled"),this.input.attr("disabled",!0),this.peal&&this.peal.addClass("disabled")):(this.input.removeAttr("disabled"),this.elem.removeClass("disabled"),this.peal&&this.peal.removeClass("disabled")),c.name&&this.input.attr("name",c.name)},a.fn.search=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.search;a.fn.search.Constructor=c,a.fn.search.noConflict=function(){return a.fn.search=e,this},a.fn.search.defaults={type:1,name:"search",magicon:"<i class='glyphicon glyphicon-search'></i>",placeholder:"",disabled:!1,clickhide:!0,dropList:[],rowdec:null,ajaxOptions:{type:"GET",url:"../data/search.json",xhrFields:{withCredentials:!0}}}}(jQuery),function(a){function b(b,c){this.$elem=b,"show"===c?this.show():"hide"===c?this.hide():"toggle"===c?this.toggle():(this.config=a.extend(!0,{},a.fn.sidepanel.defaults,b.data(),c),this.init())}function c(a){this.manipulate=function(a){}}b.prototype.init=function(){var a=this;this.concrate(),this.events(),this.initConfig(),setTimeout(function(){a.show()},200)},b.prototype.hide=function(){this.$elem.removeClass("with-full-sidepanel-panel"),a("body .modal-backdrop.fade.in.sidepanel-backdrop").remove()},b.prototype.show=function(){this.$elem.addClass("with-full-sidepanel-panel"),0==a("body .modal-backdrop.fade.in.sidepanel-backdrop").length&&(a("body").append('<div class="modal-backdrop fade in sidepanel-backdrop"></div>'),a(".sidepanel-backdrop").css("z-index","1000"))},b.prototype.toggle=function(){this.$elem.hasClass("with-full-sidepanel-panel")?this.hide():this.show()},b.prototype.events=function(a){var b=this;b.$elem.off("click",".sidepanel-panel .close,.sidepanel-panel .cancel").on("click",".sidepanel-panel .close,.sidepanel-panel .cancel",function(a){b.hide()}),b.$elem.off("click",".sidepanel-panel .panel-footer .ok").on("click",".sidepanel-panel .panel-footer .ok",function(a){b.config.callback&&b.config.callback(b.$elem)})},b.prototype.concrate=function(b){var c=this,d='<div class="sidepanel-panel">    <div class="panel panel-default">        <div class="panel-heading">            <button type="button" class="close sidepanel-close" aria-label="Close">                <span aria-hidden="true">×</span>            </button>            <h3 class="panel-title">Panel title</h3>            <div class="edit-tip"></div>        </div>        <div class="panel-body">            Panel content        </div>        <div class="panel-footer">            <div class="btn-toolbar pull-right" role="toolbar" aria-label="Toolbar with button groups">                <button type="button" class="btn btn-primary ok">'+(c.config.saveBtn?c.config.saveBtn:"确定")+'</button>                <button type="button" class="btn btn-default cancel">'+(c.config.cancelBtn?c.config.cancelBtn:"取消")+"</button>            </div>        </div>    </div></div>";c.$root=a(d),c.$root.find(".panel-title").text(c.config.title),c.$root.find(".panel-body").html(c.config.content),a(".sidepanel-panel").remove(),this.$elem.append(c.$root)},b.prototype.initConfig=function(){var a=this;a.config.rm&&a.tabwrapper.find("li>a").append("<i class='glyphicon glyphicon-remove transparent'></i>")},a.fn.sidepanel=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var d=a.fn.sidepanel;a.fn.sidepanel.Constructor=b,a.fn.sidepanel.noConflict=function(){return a.fn.sidepanel=d,this},a.fn.sidepanel.defaults={title:"title",content:"content",callback:null}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.sinput.defaults,b.data(),c),this._width=this.elem.width(),this.init()}function c(a){this.val=function(b){var c="string"==typeof b||"number"==typeof b?b:b.label||b.text||b.name||b.value;return a.elem.find("input").val(c),a.elem},this.warning=function(b){return a.elem.toggleClass("warning",b?!0:b),a.elem},this.fail=function(b){return a.elem.toggleClass("fail",b?!0:b),a.elem}}b.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.input.on("focus",function(a){b.elem.addClass("active")}),this.input.on("blur",function(a){b.elem.removeClass("active")}),b.config.xion&&b.elem.find("span.xion-cus").click(function(){a(this).hasClass("switcher")&&(a(this).find("label>input[type=checkbox]").is(":checked")?(a(this).find("label").addClass("active"),b.input.attr("type","text")):(a(this).find("label").removeClass("active"),b.input.attr("type","password"))),fireEvent(b.elem.get(0),"ICON_CLICK")}),2==b.config.type&&(b.stepup.click(function(c){var d=parseFloat(b.input.val());d+=b.config.step,d>b.config.max&&(d=b.config.max),b.input.val(d),fireEvent(a(this).get(0),"STEP_CHANGE",{val:d})}),b.stepdown.click(function(c){var d=b.input.val();d-=b.config.step,d<b.config.min&&(d=b.config.min),b.input.val(d),fireEvent(a(this).get(0),"STEP_CHANGE",{val:d})}),b.input.keyup(function(c){/^[\-\.]?(\d+)?\.?(\d+)?$/.test(a(this).val())?(b.input.val()>b.config.max?b.input.val(b.config.max):b.input.val()<b.config.min&&b.input.val(b.config.min),b.elem.removeClass("warning")):b.elem.addClass("warning")}))},b.prototype.concrate=function(b){var c=this;c.elem.attr("tabindex","-1"),c.input=a("<input type="+c.config.inputType+" />"),c.elem.append(c.input)},b.prototype.initConfig=function(){var b=this,c=b.config;if(c.placeholder&&b.input.attr("placeholder",c.placeholder),c["default"]&&b.input.val(c["default"]),c.name&&b.input.attr("name",c.name),c.xion&&2!=c.type){var d=this.elem.height(),e=a(c.xion).addClass("xion-cus").css({width:d-2+"px",height:d+"px",lineHeight:d+4+"px"});"left"==c.pos?(b.elem.prepend(e),b.input.css({left:d+"px",paddingLeft:"0"})):(b.elem.append(e),b.input.css({paddingRight:"0"})),b.input.css({width:this._width-d+"px"})}if(2==c.type){var f=c["default"]||c.min||0;b.stepwrapper=a("<span class='step-wrapper'></span>"),b.stepup=a("<i class='glyphicon glyphicon-triangle-top'></i>"),b.stepdown=a("<i class='glyphicon glyphicon-triangle-bottom'></i>"),b.stepwrapper.append(b.stepup).append(b.stepdown),b.input.css("width",b._width-20+"px"),b.elem.append(b.stepwrapper),b.input.val(f)}c.title&&(b.title=a("<em class='sinput-title'/>").text(c.title),b.elem.append(b.title)),c.disabled&&(b.input.attr("disabled",!0),b.elem.attr("disabled",!0))},a.fn.sinput=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var d=a.fn.sinput;a.fn.sinput.Constructor=b,a.fn.sinput.noConflict=function(){return a.fn.sinput=d,this},a.fn.sinput.defaults={type:1,name:"uname",title:"",xion:"",pos:"right",placeholder:"请输入文字",inputType:"text",min:0,max:1/0,step:1,"default":null,disabled:!1}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.sutable.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function c(a){this.resize=function(b){a.allocate(b)},this.sum=function(b){return a.elem.find(".sutable-footer").remove(),a.tail(b),a.elem},this.update=function(b,c){var e=this;return a.elem.find(".sutable-body").remove(),d.recursive(a.elem,b,a.config),c&&e.sum(c),a.listenBody(),a.elem}}var d={recursive:function(b,c,d,e){var e=arguments[3]||0;arguments[4]||5;e++;var f=(arguments.callee,a("<ul role='table' />"));if(e>1)f.addClass("sub-layer");else{f.addClass("sutable-body")}for(var g=0;g<c.length;g++){var h=c[g],i=h.text||h.label||h.title||h.name,j='<div class="spinner spinner2" ><div class="bounce1"></div><div class="bounce2"></div>					  <div class="bounce3"></div></div>',k=a("<li class='sutable-item'  deep="+e+"  serial="+h.id+" />"),l=a('<div class="sutable-row-wrapper">'),m=a('<div class="sutable-row" deep='+e+" serial="+h.id+" ></div>"),n=a('<i class="font-icon font-icon-edit" serial='+h.id+'></i><i class="font-icon font-icon-copy" serial='+h.id+"></i>");l.append(m);var o=i.concat({});if(o.forEach(function(b,c){var e=a('<span class="switcher">				<label class = "active" ><input type = "checkbox" class = "scheckbox"></label></span>'),f=a('<span class="sutable-col" col='+c+" />");if(d.colDims&&d.colDims.length&&f.css("width",d.colDims[c]+"px"),0==c?f.addClass("sutable-col-name"):1==c?f.addClass("sutable-col-status"):c==o.length-2?(f.addClass("sutable-col-oc"),e.find("label").toggleClass("active",b.status?!0:!1),f.html(e)):c==o.length-1&&(f.addClass("sutable-col-operation"),f.html(n)),c<=o.length-3){var g=b.label||b.text||b.name;f.html(g),1!=c&&c!=o.length-2&&f.attr("title",g),0==c?f.html("<span>"+g+"</span>"):1==c&&2==b.value?(f.html("<span class='att-wrapper'><i class='font-icon font-icon-attention'></i>"+g+"</span>").addClass("attention"),f.find(".att-wrapper").attr({"data-toggle":"tooltip","data-title":b.reason})):c==o.length-2&&e.find("label").toggleClass("active",b.status?!0:!1)}m.append(f)}),h.hasChild&&3>e){var p=a('<span class="btn-plus-minus" deep='+e+" serial="+h.id+"  />");d.caret?p.html(d.caret).addClass("custom-caret"):p.html('<i class="line-hor"></i><i class="line-ver"></i>'),k.append(p).append(l.addClass("asparent"))}else k.append(l);k.append(j),f.append(k)}e>1&&f.append("<li class='sutable-item sutable-item-spec' deep="+e+">+"+("2"==e?"新增广告组":"新增广告")+"</li>"),b.append(f)},fixPageXY:function(a){var b=document.documentElement,c=document.body,a=(a.get(0)||a).getBoundingClientRect(),d={};return d.pageX=parseFloat(a.left)+(b.scrollLeft||c&&c.scrollLeft||0),d.pageX-=b.clientLeft||0,d.pageY=parseFloat(a.top)+(b.scrollTop||c&&c.scrollTop||0),d.pageY-=b.clientTop||0,d}};b.prototype.scrollV=function(){},b.prototype.listenBody=function(){var b=this,c=this.elem.get(0).getBoundingClientRect();b.elem.find("span.btn-plus-minus").unbind("click").click(function(c){c.stopImmediatePropagation();var e=parseInt(a(this).attr("deep")),f=a(this).attr("serial"),g=a(this).parent(),h=g.find("div.spinner2");g.toggleClass("open"),g.children("ul>li.sutable-item").toggleClass("open"),g.hasClass("open")?(fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"nextlayer",deep:e,id:f,fa:g}),h.addClass("active"),a.ajax(b.config.ajaxOptions).then(function(a){"string"==typeof a&&(a=JSON.parse(a)),g.children("ul.sub-layer").remove(),0==a.code?(d.recursive(g,a.data,b.config,e),b.listenBody()):g.toggleClass("open"),h.removeClass("active")},function(a){g.toggleClass("open"),h.removeClass("active")})):h.removeClass("active")}),b.elem.find(".sutable-col-oc>.switcher").click(function(b){var c=a(this).find("input[type=checkbox]:checked").length?1:0,d=a(this).parents(".sutable-row[serial]:first").attr("serial");fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"switch",value:c,id:d})}),b.elem.find(".sutable-col-oc>.switcher>label>input").unbind("click").click(function(c){c.stopImmediatePropagation();var d=a(this).parent();if(d.toggleClass("active"),!d.hasClass("active")){var e=a(this).parents(".sutable-item:first");e.find("ul .switcher>label").removeClass("active")}fireEvent(b.elem.get(0),"STATUS_CHANGE",{status:d.hasClass("active")})}),b.elem.find("i.font-icon-edit").unbind("click").click(function(b){fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"edit",id:a(this).attr("serial")})}),b.elem.find("i.font-icon-copy").unbind("click").click(function(b){fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"copy",id:a(this).attr("serial")})}),b.elem.find(".sutable-body .sutable-row .sutable-col-name>span").unbind("click").click(function(b){fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"name",id:a(this).attr("serial")})}),b.elem.find(".sutable-item-spec").unbind("click").click(function(b){var c=a(this).attr("deep"),d=a(this).prev().attr("serial"),e="2"==c?0:(c="3")?1:2;fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"addnew",preid:d,type:e})}),b.elem.find("[data-toggle=tooltip]").unbind("mouseover").mouseover(function(e){var f=b.elem.find(".tooltip-cus");f.find(".tooltip-inner").html(a(e.target).data("title"));var g=d.fixPageXY(a(this)),h=d.fixPageXY(b.elem);f.css({top:g.pageY-h.pageY+10+"px",left:g.pageX-h.pageX-10+"px"}),f.addClass("in"),f.unbind("webkitTransitionEnd oTransitionEnd otransitionend transitionend").on("webkitTransitionEnd oTransitionEnd otransitionend transitionend",function(){var b=a(this).get(0).getBoundingClientRect();console.log(b.right+" : "+c.right),b.right>=c.right?(a(this).css({right:0,left:"inherit"}),a(this).find(".tooltip-arrow").css("left","90%")):(a(this).css({right:"inherit"}),a(this).find(".tooltip-arrow").removeAttr("style"))})}),b.elem.find("[data-toggle=tooltip]").unbind("mouseout").mouseout(function(a){b.elem.find(".tooltip-cus").removeClass("in")})},b.prototype.init=function(){var b=this;this.concrate(),this.initConfig(),b.elem.on("dragstart",function(){return!1}),b.head.find(".sort-wrapper").click(function(c){c.stopImmediatePropagation();var d=a(this).parent();a(this).children().toggleClass("hi");var e=d.siblings();e.find(".sort-wrapper").children("i").removeClass("hi"),e.find(".sort-wrapper").children("i.glyphicon-triangle-bottom").addClass("hi"),fireEvent(b.elem.get(0),"SORT_CLICK",{col:parseInt(d.attr("col")),val:d.text()})}),b.elem.find("span.inspliter").mousedown(function(c){var d=a(this).parent(),e=d.attr("col"),f=a(".sutable-col[col="+e+"]"),g=(window.getComputedStyle(f.get(0)).minWidth,a(this).get(0).getBoundingClientRect()),h=b.elem.get(0).getBoundingClientRect(),i=g.left-h.left+g.width;b.elem.find(".split-line").css("left",i+"px").addClass("active"),b.elem.addClass("resize-cursor"),b.elem.off("mousemove").mousemove(function(c){c.stopImmediatePropagation();var g=c.clientX-h.left+1,j=c.clientX-d.get(0).getBoundingClientRect().left;if(a(this).find(".split-line").css("left",g+"px"),g>i)f.css("width",j+"px");else{var k=parseInt(e)+1;a(".sutable-col[col="+k+"]");f.css("width",j+"px")}b.config.colDims[e]=j})}),b.elem.mouseleave(function(c){c.stopImmediatePropagation(),a(this).unbind("mousemove"),b.elem.trigger("RESIZE_DONE")}),b.elem.mouseup(function(a){a.stopImmediatePropagation(),b.elem.removeClass("resize-cursor"),b.elem.find(".split-line").removeClass("active"),b.elem.unbind("mousemove"),b.elem.trigger("RESIZE_DONE")}),b.listenBody(),a(window).resize(function(a){b.config.wi=b.elem.width(),b.allocate(b.config.wi)})},b.prototype.concrate=function(){this.head=a("<ul class='sutable-header' role='table' />").html('<li class=" sutable-row"></li>'),this.elem.append("<span class='split-line'></span>"),this.elem.append(this.head)},b.prototype.initConfig=function(){var b=this,c=this.config;if(c.head){var e="<span class='sort-wrapper'><i class='glyphicon glyphicon-triangle-top'></i><i class='glyphicon glyphicon-triangle-bottom hi'></i></span>";c.head.forEach(function(d,f){var g=a("<span class='sutable-col' col="+f+" />");0==f?g.addClass("sutable-col-name"):1==f?g.addClass("sutable-col-status"):f==c.head.length-2?g.addClass("sutable-col-oc"):f==c.head.length-1&&g.addClass("sutable-col-operation"),"object"==typeof d?g.text(d.label||d.text||d.name):g.text(d),-1!=c.sort.indexOf(f)&&g.append(e),0!=f&&12!=f&&g.append("<i class='font-icon font-icon-help' data-toggle='tooltip' data-title="+d.desc+"></i>"),b.head.find(".sutable-row").append(g)})}this.allocate(c.wi),c.body&&d.recursive(b.elem,c.body,c),c.tail&&b.tail(c.tail),b.elem.append('<div class="tooltip tooltip-cus bottom fade" role="tooltip"> <div class="tooltip-arrow"></div> <div class="tooltip-inner"> Tooltip on the bottom </div> </div>')},b.prototype.tail=function(b){var c=this;c.foot=a("<ul class='sutable-footer'><li class='sutable-item sutable-row'></li></ul>"),c.foot.find(".sutable-item").append("<span class='sutable-col sutable-col-sum'>总计</span>"),this.foot.find(".sutable-item>.sutable-col:gt(0)").empty();var d=this.config.colDims.slice(2);b.forEach(function(b,e){var f=a("<span class='sutable-col' />").text(b.text||b.label||b.value||b);d[e]&&f.css("width",d[e]+"px"),c.foot.find(".sutable-item").append(f)}),c.elem.append(c.foot)},b.prototype.allocate=function(a){var a=a||this.elem.width(),b=this.elem,c=this.config,d=a-226-96-40-72-62,e=d/(c.head.length-4);c.colDims=[226,96],b.find(".sutable-col:gt(1):lt("+(c.head.length-3)+")").css("width",e+"px").each(function(){c.colDims.push(e)}),c.colDims.push(72,62)},a.fn.sutable=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var e=a.fn.sutable;a.fn.sutable.Constructor=b,a.fn.sutable.noConflict=function(){return a.fn.sutable=e,this},a.fn.sutable.defaults={head:null,body:null,tail:null,caret:null,sort:null,ajaxOptions:{type:"GET",url:"../data/sutable.json",xhrFields:{withCredentials:!0}},namecall:function(){},editcall:function(){},copycall:function(){}}}(jQuery),function($){function fill(a,b){var c=arguments;if(a instanceof Array)for(var d=0;d<a.length;d++){var e=a[d],f="string"==typeof e||"number"==typeof e?e:e.name||e.txt;if(c[2])var g=$('<span class="ndp-table-col" title='+f+" col="+d+' ><span class="head-txt">'+f+"</span></span>");else g=$('<span class="ndp-table-col" title='+f+" col="+d+" >"+f+"</span>");b.append(g)}else Object.keys(a).forEach(function(d,e){g=$(c[2]?'<span class="ndp-table-col" title='+a[d]+" col="+e+' ><span class="head-txt">'+a[d]+"</span></span>":'<span class="ndp-table-col" title='+a[d]+"  col="+e+">"+a[d]+"</span>"),b.append(g)});return b}function Table(a,b){this.elem=a,this.config=$.extend(!0,{},$.fn.table.defaults,a.data(),b),this.init()}function exchange(a){this.update=function(b){return a.body.empty(),a.buildBody(b),a.elem}}var self=this,rats=[],sortString='<div class="sort-direct">						<i class="glyphicon glyphicon-triangle-top"></i>						<i class="glyphicon glyphicon-triangle-bottom active"></i>					 </div>';Table.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.head=$("<ul>").addClass(this.config.headClass),this.body=$("<ul>").addClass(this.config.bodyClass),this.buildHead(),this.buildBody(this.config.data),this.elem.append(this.head).append(this.body),this.initConfig(),this.head.find(".sort-direct").click(function(a){a.stopPropagation();var b=$(this).parent();fireEvent($(this).get(0),"SORT_CHANGE",{col:parseInt(b.attr("col")),name:b.attr("title")})}),this.body.find(".ndp-table-row").click(function(a){a.stopPropagation();var b=$(this).index();fireEvent($(this).get(0),"ROW_CLICK",{row:b})}),this.head.find(".ndp-table-col").click(function(a){fireEvent($(this).get(0),"COL_CLICK",{col:parseInt($(this).attr("col")),name:$(this).attr("title")})})},Table.prototype.buildHead=function(){var a=this,b=0,c=this.config.head;if(this.textLen=[],c instanceof Array)for(var d=0;d<c.length;d++){var e=c[d],f="string"==typeof e?e.length:(e.name||e.txt).length;a.textLen.push(f),b+=f}else Object.keys(c).forEach(function(d){f=c[d].length,a.textLen.push(f),b+=f});this.textLen.forEach(function(c,d){a.textLen[d]=(c/b*100).toFixed(2)}),this.head.append(fill(c,$('<li class="ndp-table-row">'),1)),"all"==this.config.sort?a.head.find("li.ndp-table-row>span").append(sortString):this.config.sort instanceof Array&&this.config.sort.forEach(function(b){a.head.find("li.ndp-table-row>span:nth-child("+(b+1)+")").append(sortString)}),this.head.find("span.ndp-table-col:not(:nth-last-child(1))").append('<i class="col-spliter"></i>'),this.textLen.forEach(function(b,c){a.head.find("span.ndp-table-col:nth-child("+(c+1)+")").css("width",b+"%")})},Table.prototype.buildBody=function(a){for(var b=this,c=0;c<a.length;c++){var d=$('<li class="ndp-table-row">');this.config.activeRow>=0&&this.config.activeRow==c&&d.addClass("active");var e=a[c];b.body.append(fill(e,d))}b.head.find("span.ndp-table-col").each(function(a,c){var d=parseFloat($(c).attr("style").match(/([\d.]+?)\%/i)[1]);b.body.find("span.ndp-table-col:nth-child("+(a+1)+")").css("width",d+"%")})},Table.prototype.initConfig=function(){var self=this,cfg=this.config;if(cfg.colClass&&this.elem.find("li>span.ndp-table-col").addClass(cfg.colClass),cfg.colNail&&this.head.find("span.ndp-table-col").unbind("click").click(function(a){var b=$(this).index();self.elem.find("span.ndp-table-col").removeClass("active"),self.elem.find("span.ndp-table-col:nth-child("+(b+1)+")").addClass("active")}).unbind("mouseenter").mouseenter(function(a){var b=$(this).index();self.elem.find("span.ndp-table-col:nth-child("+(b+1)+")").addClass("ndp-table-col-hover")}).unbind("mouseleave").mouseleave(function(a){var b=$(this).index();self.elem.find("span.ndp-table-col:nth-child("+(b+1)+")").removeClass("ndp-table-col-hover")}),cfg.colNail&&cfg.activeCol>=0&&(this.head.find("li>span.ndp-table-col:nth-child("+(cfg.activeCol+1)+")").addClass("active"),this.body.find("li>span.ndp-table-col:nth-child("+(cfg.activeCol+1)+")").addClass("active")),cfg.rowNail&&this.body.find("li.ndp-table-row").unbind("click").click(function(){$(this).hasClass("ndp-table-row-hover")?$(this).removeClass("ndp-table-row-hover"):$(this).addClass("ndp-table-row-hover"),$(this).siblings().removeClass("ndp-table-row-hover")}).unbind("mouseenter").mouseenter(function(){$(this).addClass("ndp-table-row-hover")}).unbind("mouseleave").mouseleave(function(){$(this).removeClass("ndp-table-row-hover")}),this.body.find("li.ndp-table-row").unbind("mouseenter").mouseenter(function(){$(this).addClass("ndp-table-row-hover")}).unbind("mouseleave").mouseleave(function(){$(this).removeClass("ndp-table-row-hover")}),cfg.listHeight&&parseFloat(cfg.listHeight)){var rh=this.head.find("li.ndp-table-row").height()+2,h=parseFloat(cfg.listHeight)-rh;if(this.body.css("height",h+"px"),40*this.body.children().length>h){var w=this.body.width();this.body.find("li.ndp-table-row").width(w-15)}}if(cfg.sort){var keys=Object.keys(cfg.data[0]);this.head.find(".sort-direct").unbind("click").click(function(a){var b=$(this).parent(),c=b.index();b.siblings().find(".sort-direct>i.glyphicon-triangle-bottom").addClass("active"),b.siblings().find(".sort-direct>i.glyphicon-triangle-top").removeClass("active");var d=$(this).find(".glyphicon.active");d.removeClass("active").siblings("i.glyphicon").addClass("active");var e=d.hasClass("glyphicon-triangle-bottom")?!1:!0;self.body.empty(),isNaN(cfg.data[0][keys[c]])?cfg.data.sort(function(a,b){return e?b[keys[c]].localeCompare(a[keys[c]]):a[keys[c]].localeCompare(b[keys[c]])}):cfg.data.sort(function(a,b){return e?a[keys[c]]-b[keys[c]]:b[keys[c]]-a[keys[c]]}),self.buildBody(cfg.data)})}this.head.find("i.col-spliter").unbind("mousedown").mousedown(function(e){e.preventDefault();var the=$(this).parent(),nextCol=the.next(),preCol=the.prev(),index=the.index(),liw=self.elem.find("li.ndp-table-row").width();self.elem.find("span.ndp-table-col:nth-child("+(index+1)+")").addClass("highLight");var next=self.elem.find("span.ndp-table-col:nth-child("+(index+2)+")"),the=self.elem.find("span.ndp-table-col:nth-child("+(index+1)+")"),all=[];self.head.find("span.ndp-table-col").each(function(a,b){all.push(parseFloat($(b).attr("style").match(/([\d.]+?)\%/i)[1]))}),$(document).unbind("mousemove").mousemove(function(e){var o=the.get(0).getBoundingClientRect(),no=next.get(0).getBoundingClientRect(),ntw=e.pageX-o.left,nxw=no.right-e.pageX;if(ntw>80&&nxw>80&&Math.abs(e.pageX-o.right)>=1){var val1=(ntw/liw*100).toFixed(2),val2=(eval(all.concat().splice(index,2).join("+"))-val1).toFixed(2);the.css("width",val1+"%"),next.css("width",val2+"%")}})}),$(document).unbind("mouseup").on("mouseup",function(){$("span.ndp-table-col.highLight").removeClass("highLight"),$(document).unbind("mousemove")})},$.fn.table=function(a){var b=this.first(),c=new Table(b,a);return b=$.extend(!0,{},b,new exchange(c))};var old=$.fn.table;$.fn.table.Constructor=Table,$.fn.table.noConflict=function(){return $.fn.table=old,this},$.fn.table.defaults={head:["col1","col2","col3","col4"],data:[],containerClass:"",headClass:"ndp-table-header",bodyClass:"ndp-table-body",colClass:"",rowNail:!1,colNail:!1,activeRow:NaN,activeCol:NaN,rowHeight:null,listHeight:null,sort:null}}(jQuery),function(a){function b(b){setTimeout(function(){var c=b.tabwrapper.children("li:last").get(0).getBoundingClientRect().right,d=b.elem.get(0).getBoundingClientRect().right,e=b.config.negClass;d>c?a(b.elem.find("span.more-tabs")).addClass(e).attr("stop",!0):a(b.elem.find("span.more-tabs")).removeClass(e).removeAttr("stop")},250)}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.tabs.defaults,b.data(),c),this.init()}function d(a){this.val=function(b){return a.tabwrapper.find("li[role=presentation][data-index='"+b+"']").addClass("active").siblings().removeClass("active"),a.elem}}c.prototype.init=function(){var c=this,d=null;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.tabwrapper.find("li").click(function(b){b.stopImmediatePropagation(),a(this).hasClass("active")||(a(this).addClass("active").siblings().removeClass("active"),fireEvent(c.elem.get(0),"TAB_CHANGE",a(this).data()))}),c.config.rm&&(this.tabwrapper.find("li>a>i").click(function(b){b.preventDefault();var d=parseInt(a(this).parent().parent().attr("index")),e=c.tabwrapper.find("li[index="+d+"]"),f=e.hasClass("active");e.remove(),f&&c.tabwrapper.find("li:eq(0)").addClass("active"),1==c.tabwrapper.children().length&&c.tabwrapper.find("li>a>i").addClass("hidden");var g=parseInt(c.tabwrapper.find("li.active").attr("index"));fireEvent(c.elem.get(0),"TAB_REMOVED",{rm:c.config.list[d],active:c.config.list[g],current:g})}),this.tabwrapper.find("li").mouseenter(function(){a(this).find("i").removeClass("transparent")}),this.tabwrapper.find("li").mouseleave(function(){a(this).find("i").addClass("transparent")})),c.preButton.unbind("click").click(function(e){var f=this;clearTimeout(d),d=setTimeout(function(){var d=parseInt(a(f).attr("now"));if(0==d)return!1;a(f).attr("now",d);var e=c.tabwrapper.find("li[index="+(d-1)+"]").width(),g=parseInt(c.tabwrapper.css("left"));c.tabwrapper.css("left",g+e+"px"),d--,a(f).attr("now",d),c.moreButton.attr("now",d),0==d&&a(f).addClass(c.config.negClass),b(c)},250)}),c.moreButton.click(function(e){var f=this;clearTimeout(d),d=setTimeout(function(){if(a(f).attr("stop"))return e.preventDefault(),
e.stopImmediatePropagation(),!1;var d=parseInt(a(f).attr("now"));a(f).attr("now",d);var g=c.tabwrapper.find("li[index="+d+"]").width(),h=parseInt(c.tabwrapper.css("left"));c.tabwrapper.css("left",h-g+"px"),d++,a(f).attr("now",d),c.preButton.attr("now",d),d>0&&c.preButton.removeClass(c.config.negClass),b(c)},250)})},c.prototype.concrate=function(b){var c=this;this.tabwrapper=a("<ul class='nav nav-tabs nav-tabs-cus' style='left:0;'/>"),c.config.list.forEach(function(b,d){if("object"==typeof b)var e=b.name||b.text||b.label||b.tab,f=b.badge,g=b.id,h=b.type;else e=b;var i=a("<li role='presentation' data-name="+e+"  data-index="+d+" title="+e+" ><a href='javascript:void(0);'>"+e+"</a></li>");g&&i.attr("data-id",g),h&&i.attr("data-type",h),d==c.config["default"]&&i.addClass("active"),c.config.badge&&f&&i.find("a").append("<span class='badge'>"+f+"</span>"),c.tabwrapper.append(i)}),this.elem.append(c.tabwrapper)},c.prototype.initConfig=function(){var b=this;b.config.rm&&b.tabwrapper.find("li>a").append("<i class='glyphicon glyphicon-remove transparent'></i>"),b.elem.addClass("specialWrapper"),b.tabwrapper.addClass("one-line"),b.tabwrapper.find("li").addClass("carousel"),b.preButton=a("<span class='more-button pre-tabs disabled' now='0'><i class='glyphicon glyphicon-chevron-left'></i></span>"),b.moreButton=a("<span class='more-button more-tabs' now='0'><i class='glyphicon glyphicon-chevron-right'></i></span>"),b.elem.prepend(b.preButton).append(b.moreButton);var c=b.tabwrapper.children("li:last").get(0).getBoundingClientRect().right,d=b.elem.get(0).getBoundingClientRect().right;d>=c&&(b.moreButton.hide(),b.preButton.hide())},a.fn.tabs=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.tabs;a.fn.tabs.Constructor=c,a.fn.tabs.noConflict=function(){return a.fn.tabs=e,this},a.fn.tabs.defaults={"default":0,list:[],badge:!1,rm:!1,negClass:"disabled"}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.timerange.defaults,b.data(),c),this.init()}function c(a){this.getVal=function(){return a.selectTime()}}var d=[{cn:"星期天",en:"Sun",value:0},{cn:"星期一",en:"Mon",value:1},{cn:"星期二",en:"Tue",value:2},{cn:"星期三",en:"Wed",value:3},{cn:"星期四",en:"Thu",value:4},{cn:"星期五",en:"Fri",value:5},{cn:"星期六",en:"Sat",value:6}],e=[{en:"(GMT -12:00) Eniwetok, Kwajalein",cn:"(GMT -12:00) Eniwetok, Kwajalein",val:-12},{en:"(GMT -11:00) Midway Island, Samoa",cn:"(GMT -11:00) Midway Island, Samoa",val:-11},{en:"(GMT -10:00) Hawaii",cn:"(GMT -10:00) Hawaii",val:-10},{en:"(GMT -9:00) Alaska",cn:"(GMT -9:00) Alaska",val:-9},{en:"(GMT -8:00) Pacific Time (US &amp; Canada)",cn:"(GMT -8:00) Pacific Time (US &amp; Canada)",val:-8},{en:"(GMT -7:00) Mountain Time (US &amp; Canada)",cn:"(GMT -7:00) Mountain Time (US &amp; Canada)",val:-7},{en:"(GMT -6:00) Central Time (US &amp; Canada), Mexico City",cn:"(GMT -6:00) Central Time (US &amp; Canada), Mexico City",val:-6},{en:"(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima",cn:"(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima",val:-5},{en:"(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz",cn:"(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz",val:-4},{en:"(GMT -3:30) Newfoundland",cn:"(GMT -3:30) Newfoundland",val:-3.5},{en:"(GMT -3:00) Brazil, Buenos Aires, Georgetown",cn:"(GMT -3:00) Brazil, Buenos Aires, Georgetown",val:-3},{en:"(GMT -2:00) Mid-Atlantic",cn:"(GMT -2:00) Mid-Atlantic",val:-2},{en:"(GMT -1:00 hour) Azores, Cape Verde Islands",cn:"(GMT -1:00 hour) Azores, Cape Verde Islands",val:-1},{en:"(GMT) Western Europe Time, London, Lisbon, Casablanca",cn:"(GMT) Western Europe Time, London, Lisbon, Casablanca",val:0},{en:"(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris",cn:"(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris",val:1},{en:"(GMT +2:00) Kaliningrad, South Africa",cn:"(GMT +2:00) Kaliningrad, South Africa",val:2},{en:"(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg",cn:"(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg",val:3},{en:"(GMT +3:30) Tehran",cn:"(GMT +3:30) Tehran",val:3.5},{en:"(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi",cn:"(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi",val:4},{en:"(GMT +4:30) Kabul",cn:"(GMT +4:30) Kabul",val:4.5},{en:"(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent",cn:"(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent",val:5},{en:"(GMT +5:30) Bombay, Calcutta, Madras, New Delhi",cn:"(GMT +5:30) Bombay, Calcutta, Madras, New Delhi",val:5.5},{en:"(GMT +5:45) Kathmandu",cn:"(GMT +5:45) Kathmandu",val:5.75},{en:"(GMT +6:00) Almaty, Dhaka, Colombo",cn:"(GMT +6:00) Almaty, Dhaka, Colombo",val:6},{en:"(GMT +7:00) Bangkok, Hanoi, Jakarta",cn:"(GMT +7:00) Bangkok, Hanoi, Jakarta",val:7},{en:"(GMT +8:00) Beijing, Perth, Singapore, Hong Kong",cn:"(GMT +8:00) Beijing, Perth, Singapore, Hong Kong",val:8},{en:"(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk",cn:"(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk",val:9},{en:"(GMT +9:30) Adelaide, Darwin",cn:"(GMT +9:30) Adelaide, Darwin",val:9.5},{en:"(GMT +10:00) Eastern Australia, Guam, Vladivostok",cn:"(GMT +10:00) Eastern Australia, Guam, Vladivostok",val:10},{en:"(GMT +11:00) Magadan, Solomon Islands, New Caledonia",cn:"(GMT +11:00) Magadan, Solomon Islands, New Caledonia",val:11},{en:"Auckland, Wellington, Fiji, Kamchatka",cn:"Auckland, Wellington, Fiji, Kamchatka",val:12}];b.prototype.selectTime=function(){var b=this,c=[];return this.elem.find(".timerange-cell.active").each(function(d,e){var f=parseInt(a(e).attr("col")),g=parseInt(a(e).attr("row")),h=b.elem.find(".ndp-drop-wrapper input"),i=h.val(),j=h.data("val");c.push({timeStart:g,timeEnd:g+1,day:0==f?7:f,zone:{text:i,value:j}})}),c},b.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig();var c=(this.elem.get(0).getBoundingClientRect(),this.elem.find(".ver-line")),d=this.elem.find(".hor-line"),e=b.celllist.find(".timerange-cell"),f=0;b.celllist.on("dragstart",function(){return!1}),b.celllist.mouseenter(function(a){a.stopImmediatePropagation(),b.body.addClass("hover")}),b.celllist.mousedown(function(b){b.stopImmediatePropagation(),f=1,e.unbind("mouseenter").mouseenter(function(b){b.stopImmediatePropagation(),a(this).addClass("active")})}),b.celllist.on("mouseup",function(a){f=0,e.unbind("mouseenter"),b.selectTime()}),b.celllist.mouseleave(function(a){f=0,b.body.removeClass("hover"),e.unbind("mouseenter")}),b.celllist.find(".timerange-cell").mouseover(function(b){var e=a(this).position().left,f=a(this).position().top;c.css("left",e+44+70+"px"),d.css("top",f+44+"px")}),b.celllist.find(".timerange-cell").click(function(b){b.stopImmediatePropagation(),a(this).toggleClass("active")}),b.elem.find(".timerange-reset").click(function(){b.elem.find(".timerange-cell.active").removeClass("active")}),a(document).click(function(c){a(c.target).parents(".ndp-timerange-wrapper").length&&a(c.target).hasClass("ndp-timerange-wrapper")||(b.elem.find(".ndp-drop-wrapper").removeClass("focus"),b.elem.find(".ndp-drop-wrapper>.drop-list").addClass("hidden"))})},b.prototype.concrate=function(b){var c=this,f=c.config;c.head=a("<div class='timerange-head' />");var g=a("<div class='ndp-drop-wrapper'  />").drop({caret:"glyphicon-menu-right",data:e,textKey:f.lan}).val(e[3]),h=a("<span class='timerange-desc'  />").html("按住鼠标左键滑动，选取时间目标。"),i=a("<span class='timerange-reset'>重置</span>");c.head.append(g).append(h).append(i),c.body=a("<div class='timerange-body' />");var j=a("<ul class='timerange-xq' >");d.forEach(function(a,b){var c="cn"==f.lan?a.cn:a.en,d="<li valcn="+a.cn+" valen="+a.en+" val="+a.value+" >"+c+"</li>";j.append(d)});var k=a("<div class='time-field' />");c.celllist=a("<div class='timerange-cell-list' />");for(var l=a("<ul class='time-list' />"),m=0;24>m;m++){l.append("<li val="+m+">"+(1==m.toString().length?"0"+m:m)+":00</li>");for(var n=a("<li class='timerange-row' row="+m+" />"),o=0;7>o;o++)n.append("<span class='timerange-cell' row="+m+" col="+o+" />");c.celllist.append(n)}k.append(l).append(c.celllist),this.body.append(j).append(k).append("<div class='ver-line'></div>").append("<div class='hor-line'></div>"),c.elem.append(c.head).append(c.body)},b.prototype.initConfig=function(){},a.fn.timerange=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var f=a.fn.timerange;a.fn.timerange.Constructor=b,a.fn.timerange.noConflict=function(){return a.fn.timerange=f,this},a.fn.timerange.defaults={lan:"cn"}}(jQuery),function(a,b){var c={time:30,type:"info",through:!0,close:!1,bind:null,closeCallback:function(){},clickCallback:function(){},content:"这里填写你想要展示的提示内容！~~"};a(document).ready(function(){var d=null;b.showTip=function(b){var e=a.extend(!0,{},c,b);d&&clearTimeout(d);var f=e.bind?e.bind:a(document.body),g=f.find("#"+(e.bind?"bind2dom":"bind2body"));if(g.get(0))h=g.first();else{var h=a("<div class='tip' ><span class='icon-hold'></span><span class='content-hold'></span><span class='close-hold' aria-hidden='true'></span></div>");f.prepend(h)}if(h.removeAttr("style").removeAttr("class").addClass("tip"),e.bind?h.addClass("tip-bind").attr("id","bind2dom"):h.attr("id","bind2body"),h.find("span.close-hold").empty(),h.find("span.icon-hold").empty(),h.find("span.content-hold").html(e.content),e.close&&h.find("span.close-hold").html("&times;"),e.icon&&h.find("span.icon-hold").html(e.icon).css("margin-right","5px"),!e.through){h.addClass("tip-spec");var i=window.innerWidth;960>=i?h.css({width:"100%","margin-left":0}):e.content.length<100&&h.css({width:"50%","margin-left":"25%"})}return h.addClass("alert alert-"+e.type),e.time&&(d=setTimeout(function(){h.remove(),e.closeCallback()},1e3*e.time)),h.find("span.close-hold").click(function(a){a.stopImmediatePropagation(),h.remove(),d&&clearTimeout(d),e.closeCallback()}),h.unbind("click").click(function(a){e.clickCallback(a.target,h)}),h}})}(jQuery,window),function($){function newbody(a,b,c,d){var d=arguments[3]||0;arguments[4]||5;d++;var e=arguments.callee,f=$("<ul role='table' />");if(d>1)f.addClass("sub-layer");else{f.addClass("treable-body")}for(var g=0;g<b.length;g++){var h=b[g],i=h[c.subKey]||h.sub||h.son||h.next||h.group,j=h[c.textKey]||h.text||h.label||h.title||h.name,k=h.id,l=$("<li class='treable-item'  deep="+d+" />");k&&l.attr("data-id",k);var m=$('<div class="treable-row-wrapper">'),n=$('<div class="treable-row" deep='+d+"></div>");1==d&&n.addClass("treable-row-wrapper-parent");var o=$('<ul class="dropdown-menu dropdown-menu-money hidden" />');c.todata.forEach(function(a,b){var c=a.name||a.label||a.text||a,d=a.val||a.value||c,e=a.id,f="<li data-id="+e+" data-name="+c+" data-val="+d+' ><a href="javascript:void(0)">'+c+"</a></li>";o.append(f)}),n.append(o);var p=$("<div class='chart-wrapper' data-id="+k+" />"),q='<button type="button" class="close chart-close"><span aria-hidden="true">&times;</span></button>',r=$('<div class="ndp-tab-wrapper" deep='+d+" index="+g+' role="table" />');r.tabs({list:c.tabs});var s=$("<div class='tab-content tab-content-cus' />");if(c.tabs.forEach(function(a,b){var c=$('<div role="tabpanel" class="tab-pane "  data-name='+a.name+" data-type="+a.type+" />");0==b&&c.addClass("active"),s.append(c)}),p.append(r).append(s).append(q),m.append(n).append(p),j.forEach(function(a,b){var d='<span class="switcher">					<label class = "active" ><input type = "checkbox" class = "scheckbox"> </label></span>',e=$('<span class="sutable-col" col='+b+" />");if(c.colDims&&c.colDims.length&&e.css("width",c.colDims[b]+"px"),0==b?(e.addClass("sutable-col-status"),e.html(d),"object"==typeof a&&a.status===!1&&(e.find('[type="checkbox"]').attr("checked",!1),e.find("label.active").removeClass("active"))):1==b&&e.addClass("sutable-col-name"),b>0)if("object"==typeof a){var f=a.label||a.text||a.name;e.attr({"data-val":f,title:f}).html(f),1==b&&e.append("<i class='font-icon font-icon-money'></i>")}else e.attr({"data-val":f,title:f}).html(a);n.append(e)}),i&&i instanceof Array){var o=$('<span class="btn-plus-minus" />');c.caret?o.html(c.caret).addClass("custom-caret"):o.html('<i class="line-hor"></i><i class="line-ver"></i>'),l.append(o).append(m).addClass("open"),e(l,i,c,d)}else l.append(m);f.append(l)}return f.hasClass("treable-body")?f:void a.append(f)}function Treable(a,b){this.elem=a,this.config=$.extend(!0,{},$.fn.treable.defaults,a.data(),b),this.config.wi=this.elem.width(),this.init()}function exchange(a){this.toolbar=function(b){a.toolbar.toggleClass("active",b)},this.resize=function(b){a.allocate(b)},this.fold=function(b){var c=a.elem.find(".treable-body>.treable-item");return c.toggleClass("open",b),a.elem},this.update=function(b){var c=newbody(a.elem,b,a.config);return a.elem.find(".treable-body").replaceWith(c),a.listenBody(),a.elem}}var self=this,Help={recursive:function(a,b,c,d){var e=newbody(a,b,c,d);a.append(e)},fixPageXY:function(a){var b=document.documentElement,c=document.body,a=(a.get(0)||a).getBoundingClientRect(),d={};return d.pageX=parseFloat(a.left)+(b.scrollLeft||c&&c.scrollLeft||0),d.pageX-=b.clientLeft||0,d.pageY=parseFloat(a.top)+(b.scrollTop||c&&c.scrollTop||0),d.pageY-=b.clientTop||0,d.pageYB=d.pageY+a.height,d}};Treable.prototype.scrollV=function(){var a=this;a.elem=$(".ndp-treable-wrapper"),a.scroll=$(".horiz-scroll"),a.head=$(".treable-header"),a.foot=$(".treable-footer");var b=a.scroll.get(0).getBoundingClientRect(),c=a.scroll.find(".horiz-thumb"),d=c.get(0).getBoundingClientRect(),e=this.elem.width(),f=41;$(".treable-header .sutable-col").each(function(a,b){f+=$(b).get(0).getBoundingClientRect().width}),d.left<b.left?c.css("left",b.left+"px"):d.right>b.right&&c.css("left",b.right-b.width+"px"),a.foot.toggleClass("repos",f>e?!0:!1),a.scroll.toggleClass("show",f>e?!0:!1).css("width",e+"px"),a.elem.toggleClass("extend",f>e?!0:!1),f>e&&c.css("width",e-f+e+"px")},Treable.prototype.listenBody=function(){var a=this;a.elem.find("button.close.chart-close").unbind("click").click(function(a){a.stopImmediatePropagation(),$(this).parents(".chart-wrapper.open:first").removeClass("open")}),a.elem.find("span.btn-plus-minus").unbind("click").click(function(a){a.stopImmediatePropagation();var b=$(this).parents("li.treable-item:first");b.find(".chart-wrapper.open:first").removeClass("open"),b.toggleClass("open"),b.find("li.treable-item").toggleClass("open",b.hasClass("open"))}),a.elem.find(".sutable-col-status>.switcher").click(function(a){a.stopImmediatePropagation()}),a.elem.find(".sutable-col-status>.switcher>label>input").unbind("click").click(function(b){b.stopImmediatePropagation();var c=$(this).parent();c.parent().hasClass("disabled")||(c.toggleClass("active"),$(this).trigger("STATUS_UPDATE"),fireEvent(a.elem.get(0),"STATUS_CHANGE",{status:c.hasClass("active")}))}),a.elem.find(".treable-row-wrapper>.treable-row").unbind("mouseleave").mouseleave(function(a){$(this).find(".dropdown-menu-money").addClass("hidden")}),a.elem.find(".tab-content.tab-content-cus").unbind("click").click(function(a){a.stopImmediatePropagation()}),a.elem.unbind("click").click(function(a){$(this).find(".chart-wrapper.open").removeClass("open")}),a.elem.find(".treable-row>.dropdown-menu-money>li").click(function(b){b.stopImmediatePropagation(),$(this).parent().addClass("hidden");var c=$(this),d=c.data("id");c.data("val");"chart"==d&&(a.elem.find(".chart-wrapper.open").removeClass("open"),$(this).parents(".treable-row:first").siblings(".chart-wrapper").addClass("open"));var e=$(this).parents("li.treable-item[deep]").data("id"),f=$(this).data();f.dataID=e,fireEvent(a.elem.get(0),"TOOLBAR_CLICK",f);var g=a.config.todata[1];g.dataID=e,g.GD=a.elem.find(".treable-item .chart-wrapper.open .tab-pane.active"),setTimeout(function(){fireEvent(a.elem.get(0),"CHART_LAYER_INIT",g)},400)}),a.elem.on("TAB_CHANGE",function(b){b.stopImmediatePropagation();var c=b.originalEvent.data,d=a.elem.find(".treable-item .chart-wrapper.open .tab-pane");d.removeClass("active"),$(d[c.index]).addClass("active"),c.GD=$(d[c.index]),fireEvent(a.elem.get(0),"TAB_SHOW",c)}),a.elem.find("button[data-id=chart]").unbind("click").click(function(b){a.elem.find(".treable-row-wrapper>.treable-row.focus+.chart-wrapper").addClass("open"),a.elem.find(".treable-row-wrapper>.treable-row:not(.focus)+.chart-wrapper.open").removeClass("open")}),a.elem.find("i.font-icon-money").unbind("click").click(function(b){b.stopImmediatePropagation();var c=$(this).parents(".treable-row:first").find(".dropdown-menu-money").toggleClass("hidden");c.css("opacity",0);var d=Help.fixPageXY($(this)),e=Help.fixPageXY($(this).parents(".treable-row:first")),f=d.pageX-e.pageX;setTimeout(function(){c.removeAttr("style");var b=Help.fixPageXY(c),d=Help.fixPageXY(a.elem.find(".treable-footer")),e=Help.fixPageXY(a.elem);b.pageY+90<=d.pageY&&b.pageY+90<=e.pageYB?c.css({top:"30px",left:f+5+"px"}):c.css({top:-c.height()+5+"px",left:f+5+"px"})}),$(this).trigger("DROPDOWN_MENU_MONEY_SHOW",{dom:c})})},Treable.prototype.init=function(){var _this=this;this.concrate(),this.initConfig(),_this.elem.on("dragstart",function(){return!1}),_this.scroll.on("dragstart",function(){return!1}),_this.head.find(".sort-wrapper").click(function(a){a.stopImmediatePropagation();var b=$(this).parent();$(this).children().toggleClass("hi");var c=b.siblings();c.find(".sort-wrapper").children("i").removeClass("hi"),c.find(".sort-wrapper").children("i.glyphicon-triangle-bottom").addClass("hi");var d=$(this).find(".hi").hasClass("glyphicon-triangle-top")?"up":"down";fireEvent(_this.elem.get(0),"SORT_CLICK",{col:b.attr("col"),val:b.text(),sort:d})}),_this.elem.find("span.inspliter").mousedown(function(a){var b=$(this).parent(),c=parseInt(b.attr("col")),d=$(".sutable-col[col="+c+"]"),e=(window.getComputedStyle(d.get(0)).minWidth,$(this).get(0).getBoundingClientRect()),f=_this.elem.get(0).getBoundingClientRect(),g=e.left-f.left+e.width;_this.elem.find(".split-line").css("left",g-1+"px").addClass("active"),_this.elem.addClass("resize-cursor"),_this.elem.unbind("mousemove").mousemove(function(a){a.stopImmediatePropagation();var e=a.clientX-f.left-2,h=a.clientX-b.get(0).getBoundingClientRect().left-.4;if($(this).find(".split-line").css("left",e+"px"),e>g)d.css("width",h+"px");else{var i=parseInt(c)+1;$(".sutable-col[col="+i+"]");d.css("width",h+"px")}_this.config.colDims[c]=h})}),_this.elem.mouseleave(function(a){a.stopImmediatePropagation(),$(this).unbind("mousemove"),_this.elem.trigger("RESIZE_DONE")}),_this.elem.mouseup(function(e){e.stopImmediatePropagation(),_this.elem.removeClass("resize-cursor"),_this.elem.find(".split-line").removeClass("active"),_this.elem.unbind("mousemove"),_this.scrollV(),_this.elem.trigger("RESIZE_DONE");var w1=eval(_this.config.colDims.join("+"));_this.elem.find(".chart-wrapper").css("width",w1+5+"px")}),_this.scroll.find(".horiz-thumb").unbind("mousedown").mousedown(function(a){var b=$(this),c=_this.scroll.get(0).getBoundingClientRect(),d=a.clientX;_this.scroll.unbind("mousemove").mousemove(function(a){a.stopImmediatePropagation();var e=b.get(0).getBoundingClientRect(),f=a.clientX,g=f-d;d=f,b.css("left",e.left-c.left+g+"px"),e.left<c.left?b.css("left",0):e.right>c.right&&b.css("left",c.right-e.width-c.left+"px");var h=e.left-c.left;0>h&&(h=0),_this.elem.children("[role=table]").css("left",-h+"px")})}),_this.scroll.mouseleave(function(a){_this.scroll.unbind("mousemove");var b=_this.scroll.find(".horiz-thumb").css("left");_this.scroll.find(".horiz-thumb").css("left",b+"px")}),_this.scroll.mouseup(function(a){_this.scroll.unbind("mousemove");var b=$(this).children(":first"),c=$(this).get(0).getBoundingClientRect(),d=b.get(0).getBoundingClientRect();if(d.right>=c.right){var e=c.right-d.width-c.left;b.css("left",e+"px")}else d.left<=c.left&&b.css("left",0)}),_this.scroll.unbind("click").click(function(a){a.stopImmediatePropagation();var b=$(this).find(".horiz-thumb"),c=b.get(0).getBoundingClientRect(),d=$(this).get(0).getBoundingClientRect();c.left<d.left?b.css("left",0):c.right>d.right&&b.css("left",d.right-c.width-d.left+"px");var e=c.left-d.left;0>e&&(e=0),_this.elem.children("[role=table]").css("left",-e+"px")}),_this.listenBody(),$(window).resize(function(a){_this.config.wi=_this.elem.width(),_this.allocate(_this.config.wi)})},Treable.prototype.concrate=function(){this.toolbar=$("<div class='sutable-toolbar' role='table' />"),this.head=$("<ul class='treable-header' role='table' />").html('<li class=" treable-row"></li>'),this.elem.append("<span class='split-line'></span>"),this.elem.append(this.toolbar).append(this.head)},Treable.prototype.initConfig=function(){var a=this,b=this.config;if(b.todata)if(b.todata instanceof Array){var c="";b.todata.forEach(function(a,b){var d=a.text||a.name||a.label,e=a["class"]?a["class"]:"";c+="<button class='btn btn-default "+e+"' data-id="+a.id+" data-name="+d+" >"+d+"</button>"}),this.toolbar.html(c)}else"function"==typeof b.todata&&b.todata(a.toolbar);if(b.head&&b.head.forEach(function(b,c){var d=$("<span class='sutable-col' col="+c+" />");0==c?d.addClass("sutable-col-status"):1==c&&d.addClass("sutable-col-name"),"object"==typeof b?d.text(b.label||b.text||b.name):d.text(b),d.append("<span class='inspliter'></span>"),a.head.find(".treable-row").append(d)}),b.body&&Help.recursive(a.elem,b.body,b),b.tail&&(a.foot=$("<ul class='treable-footer'  />"),a.elem.append(a.foot)),a.scroll=$("<div class='horiz-scroll' />").html("<div class='horiz-thumb' />"),a.elem.append(a.scroll),this.allocate(b.wi),b.sort){var d="<span class='sort-wrapper'><i class='glyphicon glyphicon-triangle-top'></i><i class='glyphicon glyphicon-triangle-bottom hi'></i></span>";b.sort instanceof Array?b.sort.forEach(function(b,c){a.head.find(".sutable-col[col="+b+"]").append(d)}):""==b.sort&&a.head.find(".sutable-col").append(d)}this.scrollV()},Treable.prototype.allocate=function(a){var a=a||1200,b=this.elem,c=this.config,d=a-70-130-40-2,e=d/(c.head.length-2);c.colDims=[70,130],e>60?(this.head.find(".sutable-col:gt(1)").css("width",e+"px").each(function(){c.colDims.push(e)}),b.find(".sutable-col:gt(1)").css("width",e+"px")):(b.find(".sutable-col:gt(2)").css("width","80px").each(function(){c.colDims.push(e)}),b.find(".sutable-col:gt(1)").css("width",e+"px")),this.foot.css("width",a+"px"),this.scroll.css("width",a+"px")},$.fn.treable=function(a){var b=this.first(),c=new Treable(b,a);return b=$.extend(!0,{},b,new exchange(c))};var old=$.fn.treable;$.fn.treable.Constructor=Treable,$.fn.treable.noConflict=function(){return $.fn.treable=old,this},$.fn.treable.defaults={head:null,body:null,tail:null,caret:null,sort:null,tabs:[],todata:null}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='tree-root'/>");e>1?g.addClass("hide").css("left","16px"):g.addClass("tree-deepest");for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='tree-item' />"),k=a("<span class='tree-txt-wrapper' />");if(j.append(k),"object"==typeof i){var l=i[c.subKey]||i.sub||i.son||i.next||i.group||i.children,m=i[c.textKey]||i.text||i.label||i.title||i.name;k.html(m).attr("title",m),j.attr({value:m,deep:e}),l&&l instanceof Array?(j.prepend(a("<span class='tree-joint-wrapper' />").html(c.joint)),f(l,c,j,e)):j.addClass("tree-leaf")}else k.html(i),j.attr({value:i,deep:e}).addClass("tree-leaf");j.prepend("<span class='line-inspect' />"),e>1&&j.append("<span class='line-inspect-hori' />"),g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.tree.defaults,b.data(),c),this.init()}function d(a){this.manipulate=function(a){}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("span.tree-joint-wrapper").click(function(b){var c=a(this).siblings("ul.tree-root");c.toggleClass("hide"),a(this).toggleClass("active")}),b.config.checkbox?b.elem.find("li>.tree-txt-wrapper").unbind("click").click(function(c){c.stopImmediatePropagation(),a(this).parent().toggleClass("active");var d=(a(this).parent(),a(this).parent().find("input[type=checkbox]"));if(a(this).parent().hasClass("active"))d.prop("checked",!0).parents("li").addClass("active");else{d.removeAttr("checked").parents("li:not(.tree-leaf)").removeClass("active");var e=a(this).parent().parents("li:not(.tree-leaf)");e.removeClass("active").find("input[type=checkbox]:first").removeAttr("checked")}fireEvent(b.elem.get(0),"LEAF_CHECK",{val:a(this).attr("title"),check:a(this).find("input").prop("checked")})}):b.elem.find("li.tree-leaf").unbind("click").click(function(c){b.elem.find("li.tree-leaf").removeClass("active"),a(this).addClass("active"),fireEvent(b.elem.get(0),"LEAF_CLICK",{val:a(this).attr("value")})})},c.prototype.concrate=function(a){var c=this,d=c.config;b(d.data,d,c.elem,0)},c.prototype.initConfig=function(){var a=this,b=this.config;b.folder&&a.elem.find("li:not(.tree-leaf)>.tree-txt-wrapper").prepend(b.folder),b.file&&a.elem.find("li.tree-leaf>.tree-txt-wrapper").prepend(b.file),b.checkbox&&a.elem.find("li>.tree-txt-wrapper").prepend("<input type='checkbox'>")},a.fn.tree=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.tree;a.fn.tree.Constructor=c,a.fn.tree.noConflict=function(){return a.fn.tree=e,this},a.fn.tree.defaults={joint:"<div class='hor'></div><div class='ver'></div>",icon:"",data:[],subKey:null,textKey:null,folder:null,file:null,checkbox:!1}}(jQuery),function(a,b,c){function d(b){return a.extend(this,b),this.init(b)}function e(){var b=a.fn.fileupload.defaults,c=b.text.upload;b.html=b.tpl.replace(/{{text\.upload\.tips}}/gi,c.tips).replace(/{{text\.upload\.linkword}}/gi,c.linkword).replace(/{{text\.upload\.descButton}}/gi,c.descButton).replace(/{{text\.upload\.descUploading}}/gi,c.descUploading).replace(/{{text\.upload\.agButton}}/gi,c.agButton)}d.prototype={constructor:"FileUpload",init:function(b){this.$wrapper=a(this.html),this.$num=this.$wrapper.find(".upload-num"),this.$msg=this.$wrapper.find(".upload-msg"),this.$wrapper.appendTo(a(this.container)),this.$button=a(this.button),this.$form=a(this.form),this.setSize(),this.bindEvent()},createFileInput:function(){var a=this,b=document.createElement("input");b.type="file",b.onchange=function(c){c.files=this.files,a.drop(c),b.onchange=null,b=null},b.click()},bindEvent:function(){this.$wrapper.on("dragenter",this.dragEnter.bind(this)).on("dragleave",this.dragLeave.bind(this)).on("dragover",this.dragOver.bind(this)).on("drop",this.drop.bind(this)).on("click",".upload-button",this.popFileinput.bind(this)),this.$button.on("click",this.uploadByButton.bind(this)),a(document).on({dragenter:!1,dragover:!1,dragend:!1,drop:!1})},popFileinput:function(){this.beforeSelecting(),this.createFileInput()},uploadByButton:function(){var a=this;a.file?a.upload.call(a,a.file):a.error({msg:a.text.error.none,type:"file"})},fileErrorDetect:function(b){var c=[],d=b[0],e=a.Deferred(),f=this,g=null;return b.length<1&&c.push(f.text.error.none),b.length>1&&c.push(f.text.error.number),this.size<d.size&&c.push(f.text.error.size),this.type&&!new RegExp(this.type,"ig").test(d.type)&&c.push(f.text.error.type),c.length?(this.error({msg:c.join(f.text.upload.linkword),type:"file"}),e.reject(!1)):(g=f.createObjectURL(d),"image"==f.type?f.getImgSize(g,function(a,b){f.allowSize.length&&-1==f.allowSize.indexOf(a+"*"+b)?(c.push(f.text.error.allowSize),f.error({msg:c.join(f.text.upload.linkword),type:"file"}),e.reject(g)):(f.setSize.call(f,a,b),e.resolve(g))}):(f.setSize.call(f),e.resolve(g))),e},error:function(a){this.onerror&&this.onerror(a),this.$wrapper.attr("data-state","error"),this.showMsg(a.msg)},progress:function(a){a.lengthComputable&&this.showNum(Math.floor(a.loaded/a.total*100)),this.onprogress&&this.onprogress(a)},showNum:function(a){this.$num.html(a)},showMsg:function(a){this.$msg.html(a)},dragEnter:function(a){this.file=null,this.beforeSelecting(),this.ondragenter&&this.ondragenter(a),a.preventDefault()},dragLeave:function(a){this.ondragleave&&this.ondragleave(a),a.preventDefault()},dragOver:function(a){this.ondragover&&this.ondragover(a),a.preventDefault()},beforeSelecting:function(){this.$wrapper.attr("data-state","selecting"),this.showMsg("")},drop:function(a){var b=Array.prototype.slice.call(a.files||a.originalEvent.dataTransfer.files,0),c=this;c.$wrapper.attr("data-state","selected"),c.ondrop&&c.ondrop(a),a.preventDefault(),c.fileErrorDetect(b).done(function(a){c.file=b[0],c.createPreview.call(c,b[0],a),c.$button.length||c.upload.call(c,b[0])}).always(function(a){a&&c.revokeObjectURL(a)})},setSize:function(a,b){var c=this.width,d=this.height,e=Math.max(a/c,b/d);a&&b&&(e>1?(c=a/e,d=b/e):(c=a,d=b)),this.$wrapper.find(".upload-content").css({width:c+"px",height:d+"px"})},revokeObjectURL:function(a){b.webkitURL?b.webkitURL.revokeObjectURL(a):b.URL&&b.URL.revokeObjectURL(a)},createObjectURL:function(a){var c=null;return b.webkitURL?c=b.webkitURL.createObjectURL(a):b.URL&&(c=b.URL.createObjectURL(a)),c},createPreview:function(b,c){var d=this.previewTpl,e=this,f={image:'<img src="{{src}}">',video:'<video src="{{src}}" width ="'+e.width+'" height ="'+e.height+'" controls></video>'};d?a.isFunction(d)?d=d(b,c):"string"==a.type(d)&&(d=d.replace("{{src}}",c)):this.type&&(d=f[this.type].replace("{{src}}",c)),this.$wrapper.find(".upload-preview").html(d)},getImgSize:function(a,b){var c=new Image;c.onreadystatechange=c.onload=function(){(c.complete||"complete"==c.readystate||"loaded"==c.readystate)&&(b(parseInt(c.naturalWidth||c.width,10),parseInt(c.naturalHeight||c.height,10)),c.onload=c.onreadystatechange=null)},c.src=a},upload:function(b){var c=this,d=a.extend({dataType:"json",type:"post",contentType:!1,processData:!1,xhr:function(){var a=new XMLHttpRequest;return a.withCredentials=!0,c.$wrapper.attr("data-state","uploading"),c.showMsg(c.text.upload.uploading),a.upload.onprogress=c.progress.bind(c),a}},c.ajax),e=this.$form.length?new FormData(this.$form[0]):new FormData;e.append(c.name,b),a.each(d.data||{},function(a,b){e.append(a,b)}),d.data=e,a.ajax(d).done(function(a){c.$wrapper.attr("data-state","uploaded"),c.showMsg(c.text.upload.success),c.showNum("0"),c.onload&&c.onload.call(c,a)}).fail(function(a,b,d){c.error.call(c,{msg:a.responseText,type:"ajax",textStatus:b,xhr:a,error:d})}).always(function(){c.file=null})}},a.fn.fileupload=function(b){var c=this;return a.extend(!0,a.fn.fileupload.defaults,b),a.fn.fileupload.defaults.html||e(),this.each(function(b,c){new d(a.extend({container:c},a.fn.fileupload.defaults))}),c},a.fn.fileupload.defaults={text:{upload:{uploading:"正在上传",success:"添加成功",tips:"文件拖放到这里",linkword:"或者",descUploading:"上传中",descButton:"上传",agButton:"重新上传"},error:{type:"文件类型不正确",size:"文件大小超过限制",number:"文件数超过一个",none:"没有要上传的文件",allowSize:"宽高尺寸有问题"}},button:!1,form:!1,name:"file",type:"image",width:560,height:250,size:10485760,allowSize:[],tpl:'<div class="upload-wrapper" data-state="prepare">                    <div class="upload-content">                        <div class="upload-desc">                            <div class="upload-desc-inner">                                <p class="upload-icon"></p>                                <p>{{text.upload.tips}}</p>                                <p class="small">{{text.upload.linkword}}</p>                                <button class="upload-button" type="button">{{text.upload.descButton}}</button>                            </div>                        </div>                        <div class="upload-preview">                        </div>                        <div class="upload-mask">                            <div class="upload-mask-inner">                                <p class="upload-num">0</p>                                <p>{{text.upload.descUploading}}</p>                            </div>                        </div>                    </div>                    <div class="upload-footer">                        <span class="upload-msg"></span>                        <button class="upload-button upload-button-go" type="button">{{text.upload.descButton}}</button>                        <button class="upload-button upload-button-other" type="button">{{text.upload.agButton}}</button>                    </div>                </div>'
}}(jQuery,window,void 0),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='list-root' deep="+e+"  />");e>1?g.addClass("hide"):g.addClass("list-deepest");for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='list-item' />"),k=a("<span class='list-txt-wrapper' />");if(j.append(k),"object"==typeof i){var l=i[c.subKey]||i.sub||i.son||i.next||i.group||i.children,m=i[c.textKey]||i.text||i.label||i.title||i.name;k.html(m).attr("title",m),j.attr({value:m,deep:e}),l&&l instanceof Array?(c.expicon&&(j.attr("asparent",!0),k.append(c.expicon)),f(l,c,j,e)):j.addClass("list-leaf")}else k.html(i),j.attr({value:i,deep:e}).addClass("list-leaf");g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.vList.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function d(a){this.manipulate=function(a){}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("li[asparent]:has(ul)").click(function(b){b.stopImmediatePropagation(),a(this).toggleClass("active").children("ul.list-root").toggleClass("hide")}),b.elem.find("li.list-leaf").click(function(c){if(c.stopImmediatePropagation(),b.elem.find("li.list-leaf").removeClass("active"),a(this).parents("li[asparent].active").addClass("focus"),a(this).addClass("active"),a(this).parent().hasClass("list-deepest")){var d=a(this).siblings("li[asparent]").removeClass("active focus");d.find("li[asparent].active").removeClass("active").removeClass("focus"),d.find("ul").addClass("hide")}else{d=a(this).parents("li[deep='1']").siblings("li"),d.find("ul").addClass("hide"),d.removeClass("active focus"),d.find("li").removeClass("active").removeClass("focus");a(this).attr("deep");a(this).parent().parent().siblings("li[asparent]").removeClass(" active").removeClass("focus").children("ul").addClass("hide"),a(this).siblings("li").removeClass("active").removeClass("focus").children("ul").addClass("hide")}fireEvent(a(this).get(0),"ITEM_CLICK",{val:a(this).attr("value")})})},c.prototype.concrate=function(a){var c=this,d=c.config;b(d.data,d,c.elem,0)},c.prototype.initConfig=function(){var a=this,b=this.config;if(b.leaficon?a.elem.find("li.list-leaf>.list-txt-wrapper").prepend(b.leaficon).addClass("leaf-icon"):a.elem.find("li.list-leaf>.list-txt-wrapper").removeClass("leaf-icon"),b.foldicon){a.elem.find("li[asparent]").attr("value");a.elem.find("li[asparent]>.list-txt-wraper").prepend(b.foldicon)}},a.fn.vList=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.vList;a.fn.vList.Constructor=c,a.fn.vList.noConflict=function(){return a.fn.vList=e,this},a.fn.vList.defaults={data:[],expicon:"<i class='glyphicon glyphicon-menu-right'></i>",leaficon:null}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='list-root' deep="+e+"  />");1==e&&g.addClass("list-deepest");for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='list-item' data-index="+h+"/>"),k=a("<div class='content-part' />");j.append(k);var l=a("<span class='icon-part' />");k.append(l);var m=a("<span class='txt-part' />");if(k.append(m),"object"==typeof i){var n=i[c.subKey]||i.sub||i.son||i.next||i.group||i.children,o=i[c.textKey]||i.text||i.label||i.title||i.name,p=o;i.href&&(o='<a href="'+i.href+'">'+o+"</a>"),m.html(o).attr("title",p),j.attr({value:o,deep:e}),n&&n instanceof Array?(c.foldicon&&k.append(c.foldicon),f(n,c,j,e)):j.addClass("list-leaf"),i.icon&&("string"==typeof i.icon?l.append(i.icon):l.append("<img  src="+i.icon.sm+" />"))}else m.html(i),j.attr({value:i,deep:e}).addClass("list-leaf");g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.vList2.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function d(a){this.fold=function(){return a.transform(),a.elem}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("li[asparent]:has(ul)").click(function(a){a.stopImmediatePropagation()}),b.elem.find("li.list-leaf").click(function(c){c.stopImmediatePropagation(),b.elem.find("li.list-leaf").removeClass("active");var d=a(this).attr("deep"),e=a(this).attr("value");if(a(this).parents("li[asparent].active"),a(this).addClass("active"),a(this).parent().hasClass("list-deepest")){var f=a(this).siblings("li[asparent]").removeClass("active");f.find("li[asparent].active").removeClass("active")}else f=a(this).parents("li[deep='1']").siblings("li"),f.removeClass("active"),f.find("li").removeClass("active"),a(this).parent().parent().siblings("li[asparent]").removeClass(" active").children("ul"),a(this).siblings("li").removeClass("active").children("ul");fireEvent(a(this).get(0),"item_click",{deep:d,value:e})}),b.elem.find(".content-part:has(i.glyphicon-menu-up)").addClass("cur").click(function(b){b.stopImmediatePropagation();var c=a(this).parents(".list-item:first");c.children("ul").toggleClass("hidden"),a(this).toggleClass("open-hide")}),b.elem.on("webkitTransitionEnd oTransitionEnd otransitionend transitionend",function(b){b.stopImmediatePropagation(),a(this).hasClass("mini-state")?a(this).trigger("shrink_complete"):a(this).trigger("expand_complete")}),b.elem.on("STATE_CHANGE",function(a,c){console.log(c),b.config.data.forEach(function(a,d){if(a instanceof Object&&a.big){var e=b.elem.find(".list-root>li[data-index="+d+"] img");c?e.attr("src",a.big):e.attr("src",a.sm)}})})},c.prototype.concrate=function(a){var c=this,d=c.config;b(d.data,d,c.elem,0),c.elem.find("li.list-leaf:first").addClass("active"),c.elem.find("li[deep='1'].list-item:last").siblings("li").append("<hr />")},c.prototype.initConfig=function(){var a=this,b=this.config;if(b.leaficon?a.elem.find("li.list-leaf>.list-txt-wrapper").prepend(b.leaficon).addClass("leaf-icon"):a.elem.find("li.list-leaf>.list-txt-wrapper").removeClass("leaf-icon"),b.foldicon){a.elem.find("li[asparent]").attr("value");a.elem.find("li[asparent]>.list-txt-wraper").prepend(b.foldicon)}},c.prototype.transform=function(){if(!(this.elem.children().length<=0)){this.elem.toggleClass("mini-state");var b=this.elem.find("li>ul:has(li[deep='2'])");!b.hasClass("menu-mini-mode")&&b.hasClass("hidden")&&b.removeClass("hidden"),b.toggleClass("menu-mini-mode hidden"),this.elem.find("li:has(li.active)>.content-part"),this.elem.hasClass("mini-state")?(this.elem.find("li[deep='1']:has(ul)").unbind("mouseenter").mouseenter(function(){var b=window.innerHeight,c=a(this).find("ul:has(li[deep='2'])");a(this).addClass("active"),a(this).find("ul:has(li[deep='2'])").removeClass("hidden");var d=c.get(0).getBoundingClientRect().bottom;d+5>b?c.addClass("align-bottom"):c.removeClass("align-bottom")}),this.elem.find("li[deep='1']:has(ul)").unbind("mouseleave").mouseleave(function(){a(this).removeClass("active"),a(this).children("ul:has(li[deep='2'])").addClass("hidden")}),this.elem.trigger("STATE_CHANGE",0)):(this.elem.find("li[deep='1']:has(ul)").unbind("mouseenter"),this.elem.find("li[deep='1']:has(ul)").unbind("mouseleave"),this.elem.trigger("STATE_CHANGE",1))}},a.fn.vList2=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.vList2;a.fn.vList2.Constructor=c,a.fn.vList2.noConflict=function(){return a.fn.vList2=e,this},a.fn.vList2.defaults={data:[],leaficon:null,foldicon:"<i class='glyphicon glyphicon-menu-up'></i>"}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='list-root' deep="+e+"  />");e>1?g.addClass("hide"):g.addClass("list-deepest");for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='list-item' />"),k=a("<span class='list-txt-wrapper' />");if(k.css({"padding-left":30*e+"px"}),j.append(k),"object"==typeof i){var l=i[c.subKey]||i.sub||i.son||i.next||i.group||i.children,m=i[c.textKey]||i.text||i.label||i.title||i.name,n=i.val||i.value||m,o=i.id,p=i.type;if(i.parent){var q=i.parent.split(">").join("#").replace(/\s/g,"");j.attr("data-path",q),i.path=q}k.html(m).attr({title:m}),j.attr({"data-name":m,"data-text":m,deep:e,"data-id":o,"data-val":n,"data-type":p,"data-size":i.audience_size}),i.audience_size&&k.append("<span class='aud-size'>"+i.audience_size+"</span>"),i.search&&(k.addClass("do-search"),k.append('<span class="glyphicon glyphicon-search v-search"></span>')),l&&l instanceof Array?(j.attr("asparent",!0),k.append(c.expicon),f(l,c,j,e)):j.addClass("list-leaf")}else k.html(i),j.attr({"data-text":i,"data-val":i,deep:e}).addClass("list-leaf");j.data("info",i),g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.vList3.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function d(a){this.fold=function(){return a.elem.find("li.list-item.active").removeClass("active"),a.elem.find("li>ul.list-root").addClass("hide"),a.elem},this.hspanel=function(){return a.sepanel.addClass("hidden"),a.elem.removeClass("search-mode"),a.searchx.clear(),a.elem},this.updateOption=function(b){return a.config.ajaxOption=b,a.searchx.updateOption(b),a.elem},this.updateTip=function(b){return a.sepanel.attr("data-content",b),a.elem}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("li[asparent]:has(ul)").click(function(b){b.stopImmediatePropagation(),a(this).toggleClass("active").children("ul.list-root").toggleClass("hide")}),b.elem.find("li.list-leaf:not(:has(.do-search))").click(function(b){if(b.preventDefault(),b.stopImmediatePropagation(),a(this).hasClass("selected"))return!1;a(this).addClass("active");var c=a(this);fireEvent(a(this).get(0),"ITEM_CLICK",c.data("info")),a(this).addClass("selected")}),b.elem.find("li.list-leaf:has(.do-search)").click(function(c){b.sepanel.removeClass("hidden"),b.elem.addClass("search-mode");var d=a(this),e=d.data("info");e.search=!0,fireEvent(a(this).get(0),"ITEM_CLICK",e)}),b.sepanel.click(function(a){a.stopImmediatePropagation()}),b.sepanel.find(".btn-search").click(function(a){b.searchx.clear(),fireEvent(b.elem.get(0),"RETURN_BACK")})},c.prototype.concrate=function(c){var d=this,e=d.config,f=a("<div class='tree-area'></div>");d.elem.append(f),b(e.data,e,f,0),d.sepanel=a("<div class='search-panel hidden' data-content='这里填写你想提示的内容' />"),d.searchx=a("<div class='ndp-search-wrapper'  />").search({type:3,clickhide:!1,ajaxOptions:d.config.ajaxOption,formatNoMatches:d.config.formatNoMatches,rowdec:function(b,c,d){var e="string"==typeof b?b:b.text||b.label||b.name,f=b.val||b.value||e,g=b.id,h=b.audienceSize||b.audience_size,i=a('<li  class="search-row-cus" data-val="'+f+'" data-type="'+b.type+'" data-id="'+g+'" data-text="'+e+'" data-name="'+e+'" data-path="'+b.path.join("#").replace(/\s/g,"")+'" data-size="'+h+'" index="'+c+'" tabIndex="'+c+'"><a href="#">'+(d||e)+"</a></li>");return h&&i.append('<span class="aud-class">'+h+"</span>"),i}}),d.sepanel.append(d.searchx).append("<button class='btn btn-default btn-search'>"+(d.config.returnList?d.config.returnList:"返回列表")+"</button>"),d.elem.append(d.sepanel)},c.prototype.initConfig=function(){var a=this,b=this.config;if(b.leaficon?a.elem.find("li.list-leaf>.list-txt-wrapper").prepend(b.leaficon).addClass("leaf-icon"):a.elem.find("li.list-leaf>.list-txt-wrapper").removeClass("leaf-icon"),b.foldicon){a.elem.find("li[asparent]").attr("value");a.elem.find("li[asparent]>.list-txt-wraper").prepend(b.foldicon)}},a.fn.vList3=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.vList3;a.fn.vList3.Constructor=c,a.fn.vList3.noConflict=function(){return a.fn.vList3=e,this},a.fn.vList3.defaults={data:[],expicon:"<i class='glyphicon glyphicon-menu-right'></i>",returnList:"返回列表",ajaxOption:{type:"GET",url:"../data/search.json"}}}(jQuery);
//# sourceMappingURL=nxdc.min.js.map